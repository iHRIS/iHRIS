import{p as Ce,m as ye,g as be,h as Se,i as Te,j as Le,k as we,u as Ee,r as S,l as z,n as T,q as De,s as Ae,v as Ie,x as Pe,y as te,z as Oe,A as X,e,F as M,B as Re,C as I,D as ie,E as Z,G as Fe,H as V,I as Ne,J as Ue,K as s,L as Me,M as ae,N as Be,_ as He,O as je,o as D,P as le,w as l,Q as Ge,R as ne,b as L,S as y,t as ue,V as q,T as Y,f as oe,U as se,W as J,X as Ke,a as ze,Y as re,Z as qe,c as U,$ as Ye,a0 as Je,d as Q}from"./index-217f2cb1.js";import{V as A,a as W}from"./VTooltip-a7810c2c.js";function Qe(t,n,u){if(n==null)return t;if(Array.isArray(n))throw new Error("Multiple matches is not implemented");return typeof n=="number"&&~n?e(M,null,[e("span",{class:"v-autocomplete__unmask"},[t.substr(0,n)]),e("span",{class:"v-autocomplete__mask"},[t.substr(n,u)]),e("span",{class:"v-autocomplete__unmask"},[t.substr(n+u)])]):t}const We=Ce({search:String,...ye({filterKeys:["title"]}),...be(),...Se(Te({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Le({transition:!1})},"v-autocomplete"),Xe=we()({name:"VAutocomplete",props:We(),emits:{"update:focused":t=>!0,"update:search":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,n){let{slots:u}=n;const{t:$}=Ee(),o=S(),g=S(!1),k=S(!0),r=S(),w=z(t,"menu"),m=T({get:()=>w.value,set:a=>{var f;w.value&&!a&&((f=r.value)!=null&&f.Î¨openChildren)||(w.value=a)}}),d=S(-1),ce=T(()=>{var a;return(a=o.value)==null?void 0:a.color}),{items:B,transformIn:de,transformOut:fe}=De(t),{textColorClasses:ve,textColorStyles:ge}=Ae(ce),v=z(t,"search",""),_=z(t,"modelValue",[],a=>de(Be(a)),a=>{const f=fe(a);return t.multiple?f:f[0]??null}),E=Ie(),{filteredItems:H,getMatches:pe}=Pe(t,B,T(()=>k.value?void 0:v.value)),C=T(()=>_.value.map(a=>B.value.find(f=>t.valueComparator(f.value,a.value))||a)),j=T(()=>t.hideSelected?H.value.filter(a=>!C.value.some(f=>f.value===a.value)):H.value),G=T(()=>C.value.map(a=>a.props.value)),ee=T(()=>C.value[d.value]),K=S();function me(a){t.openOnClear&&(m.value=!0),v.value=""}function he(){t.hideNoData&&!B.value.length||t.readonly||E!=null&&E.isReadonly.value||(m.value=!0)}function xe(a){var F,c,x,b;if(t.readonly||E!=null&&E.isReadonly.value)return;const f=o.value.selectionStart,h=G.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(m.value=!0),["Escape"].includes(a.key)&&(m.value=!1),["Enter","Escape","Tab"].includes(a.key)&&(k.value=!0),a.key==="ArrowDown"?(F=K.value)==null||F.focus("next"):a.key==="ArrowUp"&&((c=K.value)==null||c.focus("prev")),!!t.multiple){if(["Backspace","Delete"].includes(a.key)){if(d.value<0){a.key==="Backspace"&&!v.value&&(d.value=h-1);return}const i=d.value;ee.value&&O(ee.value),d.value=i>=h-1?h-2:i}if(a.key==="ArrowLeft"){if(d.value<0&&f>0)return;const i=d.value>-1?d.value-1:h-1;C.value[i]?d.value=i:(d.value=-1,o.value.setSelectionRange((x=v.value)==null?void 0:x.length,(b=v.value)==null?void 0:b.length))}if(a.key==="ArrowRight"){if(d.value<0)return;const i=d.value+1;C.value[i]?d.value=i:(d.value=-1,o.value.setSelectionRange(0,0))}}}function ke(a){v.value=a.target.value}function _e(){var a;g.value&&(k.value=!0,(a=o.value)==null||a.focus())}function Ve(a){g.value=!0}const P=S(!1);function O(a){if(t.multiple){const f=G.value.findIndex(h=>t.valueComparator(h,a.value));if(f===-1)_.value=[..._.value,a];else{const h=[..._.value];h.splice(f,1),_.value=h}}else _.value=[a],P.value=!0,v.value=a.title,m.value=!1,k.value=!0,ae(()=>P.value=!1)}return te(g,a=>{var f;a?(P.value=!0,v.value=t.multiple?"":String(((f=C.value.at(-1))==null?void 0:f.props.title)??""),k.value=!0,ae(()=>P.value=!1)):(!t.multiple&&!v.value&&(_.value=[]),m.value=!1,v.value="",d.value=-1)}),te(v,a=>{!g.value||P.value||(a&&(m.value=!0),k.value=!a)}),Oe(()=>{const a=!!(t.chips||u.chip),f=!!(!t.hideNoData||j.value.length||u.prepend||u.append||u["no-data"]),h=_.value.length>0,[F]=X.filterProps(t);return e(X,I({ref:o},F,{modelValue:v.value,"onUpdate:modelValue":c=>{c==null&&(_.value=[])},focused:g.value,"onUpdate:focused":c=>g.value=c,validationValue:_.externalValue,dirty:h,onInput:ke,class:["v-autocomplete",`v-autocomplete--${t.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":m.value,"v-autocomplete--chips":!!t.chips,"v-autocomplete--selecting-index":d.value>-1},t.class],style:t.style,appendInnerIcon:t.menuIcon,readonly:t.readonly,placeholder:h?void 0:t.placeholder,"onClick:clear":me,"onMousedown:control":he,onKeydown:xe}),{...u,default:()=>e(M,null,[e(Re,I({ref:r,modelValue:m.value,"onUpdate:modelValue":c=>m.value=c,activator:"parent",contentClass:"v-autocomplete__content",eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:_e},t.menuProps),{default:()=>[f&&e(ie,{ref:K,selected:G.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onFocusin:Ve},{default:()=>{var c,x,b;return[!j.value.length&&!t.hideNoData&&(((c=u["no-data"])==null?void 0:c.call(u))??e(Z,{title:$(t.noDataText)},null)),(x=u["prepend-item"])==null?void 0:x.call(u),j.value.map(i=>{var R;return((R=u.item)==null?void 0:R.call(u,{item:i,props:I(i.props,{onClick:()=>O(i)})}))??e(Z,I({key:i.value},i.props,{onClick:()=>O(i)}),{prepend:p=>{let{isSelected:N}=p;return e(M,null,[t.multiple&&!t.hideSelected?e(Fe,{modelValue:N,ripple:!1,tabindex:"-1"},null):void 0,i.props.prependIcon&&e(V,{icon:i.props.prependIcon},null)])},title:()=>{var p,N;return k.value?i.title:Qe(i.title,(p=pe(i))==null?void 0:p.title,((N=v.value)==null?void 0:N.length)??0)}})}),(b=u["append-item"])==null?void 0:b.call(u)]}})]}),C.value.map((c,x)=>{var R;function b(p){p.stopPropagation(),p.preventDefault(),O(c)}const i={"onClick:close":b,onMousedown(p){p.preventDefault(),p.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return e("div",{key:c.value,class:["v-autocomplete__selection",x===d.value&&["v-autocomplete__selection--selected",ve.value]],style:x===d.value?ge.value:{}},[a?u.chip?e(Ue,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:c.title}}},{default:()=>{var p;return[(p=u.chip)==null?void 0:p.call(u,{item:c,index:x,props:i})]}}):e(Ne,I({key:"chip",closable:t.closableChips,size:"small",text:c.title},i),null):((R=u.selection)==null?void 0:R.call(u,{item:c,index:x}))??e("span",{class:"v-autocomplete__selection-text"},[c.title,t.multiple&&x<C.value.length-1&&e("span",{class:"v-autocomplete__selection-comma"},[s(",")])])])})])})}),Me({isFocused:g,isPristine:k,menu:m,search:v,filteredItems:H,select:O},o)}}),Ze={data(){return{snackbarColor:"green",snackbarText:"",snackbar:!1,addDialog:!1,addOtherDialog:!1,translatedLanguages:[],selectedLocale:"",languages:[],language:"",textExtractionStatus:{}}},methods:{getTranslatedLanguages(){fetch("/translator/getTranslatedLanguages").then(t=>{t.json().then(n=>{this.translatedLanguages=n;for(const u of this.translatedLanguages)this.textExtractionStatus[u.locale]={},this.textExtractionStatus[u.locale].active=!1,this.textExtractionStatus[u.locale].running=!1,this.textExtractionStatus[u.locale].displayStatus=!1})}).catch(t=>{console.log(t)})},selected(t){this.$router.push({path:"/review/"+t.locale})},populateTexts(){for(const t of this.translatedLanguages)this.textExtractionStatus[t.locale].active=!0;this.textExtractionStatus.en.running=!0,fetch("/translator/extractTexts/en").then(t=>{if(this.textExtractionStatus.en.running=!1,this.textExtractionStatus.en.displayStatus=!0,t.status===200)for(const n of this.translatedLanguages)n.locale!=="en"&&(this.textExtractionStatus[n.locale].active=!0,this.textExtractionStatus[n.locale].running=!0,fetch("/translator/extractTexts/"+n.locale).then(u=>{u.status===200&&(this.textExtractionStatus[n.locale].running=!1,this.textExtractionStatus[n.locale].displayStatus=!0)}).catch(()=>{this.textExtractionStatus[n.locale].running=!1,this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured for English"}))}).catch(()=>{this.textExtractionStatus.en.running=!1,this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured for English"})},getLanguages(){this.addDialog=!0,fetch("/translator/languages").then(t=>{t.json().then(n=>{this.languages=n})})},add(){fetch("/translator/addLanguage/"+this.language,{method:"POST"}).then(t=>{t.status===201?(this.addDialog=!1,this.getTranslatedLanguages(),this.snackbar=!0,this.snackbarColor="green",this.snackbarText="Language Added",this.emitter.emit("getLanguageList")):(this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured")}).catch(()=>{this.snackbar=!0,this.snackbarColor="red",this.snackbarText="Error Occured"})}},created(){this.getTranslatedLanguages()}},$e={class:"home",style:{"text-align":"center"}},et=L("br",null,null,-1),tt=L("br",null,null,-1),at=L("br",null,null,-1),lt=L("br",null,null,-1),nt={class:"text-h6"},ut={class:"text-h6"},ot=L("div",{class:"text-subtitle-2"},"Select to view",-1);function st(t,n,u,$,o,g){const k=je("center");return D(),le("div",$e,[s(" The iHRIS Translation App lets you translate the iHRIS interface into different languages that are supported by Google Translate. "),et,s(" You may start by clicking on the plus sign below, selecting the language to translate to and clicking the add button."),tt,s(" Once done with the translating, click come back to this page and click the upload option below. "),at,lt,e(Ge,{modelValue:o.snackbar,"onUpdate:modelValue":n[1]||(n[1]=r=>o.snackbar=r),timeout:"2000"},{action:l(({attrs:r})=>[e(y,I({color:o.snackbarColor,text:""},r,{onClick:n[0]||(n[0]=w=>o.snackbar=!1)}),{default:l(()=>[s(" Close ")]),_:2},1040,["color"])]),default:l(()=>[s(ue(o.snackbarText)+" ",1)]),_:1},8,["modelValue"]),e(ne,{transition:"dialog-top-transition","max-width":"600",modelValue:o.addDialog,"onUpdate:modelValue":n[4]||(n[4]=r=>o.addDialog=r)},{default:l(()=>[e(q,null,{default:l(()=>[e(Y,{color:"primary",dark:""},{default:l(()=>[s(" Select Language")]),_:1}),e(oe,null,{default:l(()=>[L("div",nt,[e(Xe,{modelValue:o.language,"onUpdate:modelValue":n[2]||(n[2]=r=>o.language=r),items:o.languages,"item-value":"locale","item-title":"name",dense:"",filled:"",label:"Languages"},null,8,["modelValue","items"])])]),_:1}),e(se,{class:"justify-end"},{default:l(()=>[e(y,{text:"",onClick:n[3]||(n[3]=r=>o.addDialog=!1)},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-close")]),_:1}),s(" Close ")]),_:1}),e(J),e(y,{disabled:!o.language,text:"",onClick:g.add},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-plus")]),_:1}),s(" Add ")]),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ne,{transition:"dialog-top-transition","max-width":"600",modelValue:o.addOtherDialog,"onUpdate:modelValue":n[7]||(n[7]=r=>o.addOtherDialog=r)},{default:l(()=>[e(q,null,{default:l(()=>[e(Y,{color:"primary",dark:""},{default:l(()=>[s("Type Non-Google Translate Language")]),_:1}),e(oe,null,{default:l(()=>[L("div",ut,[e(X,{modelValue:o.language,"onUpdate:modelValue":n[5]||(n[5]=r=>o.language=r),hint:"Enter Language Not supported by google translate",clearable:"",required:"",label:"Language"},null,8,["modelValue"])])]),_:1}),e(se,{class:"justify-end"},{default:l(()=>[e(y,{text:"",onClick:n[6]||(n[6]=r=>o.addOtherDialog=!1)},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-close")]),_:1}),s(" Close ")]),_:1}),e(J),e(y,{text:"",onClick:g.add},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-plus")]),_:1}),s(" Add ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,null,{default:l(()=>[e(q,{class:"mx-auto","max-width":"500",tile:""},{default:l(()=>[e(Y,{dark:"",color:"primary"},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-google-translate")]),_:1}),e(J),e(Ke,null,{default:l(()=>[s("Enabled Languages")]),_:1})]),_:1}),e(ze,{"primary-title":""},{default:l(()=>[e(re,null,{default:l(()=>[e(A,{cols:"5"},{default:l(()=>[ot]),_:1}),e(A,{cols:"2"},{default:l(()=>[e(y,{class:"mx-2",dark:"",color:"indigo",small:"",icon:"",onClick:g.getLanguages},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-google-translate")]),_:1}),e(W,{activator:"parent",location:"top"},{default:l(()=>[s(" Add New Google Language ")]),_:1})]),_:1},8,["onClick"])]),_:1}),e(A,{cols:"2"},{default:l(()=>[e(y,{class:"mx-2",dark:"",color:"indigo",small:"",icon:"",onClick:n[8]||(n[8]=r=>o.addOtherDialog=!0)},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-plus")]),_:1}),e(W,{activator:"parent",location:"top"},{default:l(()=>[s(" Add New Non-Google Language ")]),_:1})]),_:1})]),_:1}),e(A,{cols:"2"},{default:l(()=>[e(y,{class:"mx-2",dark:"",color:"indigo",small:"",icon:"",onClick:g.populateTexts},{default:l(()=>[e(V,null,{default:l(()=>[s("mdi-publish")]),_:1}),e(W,{activator:"parent",location:"top"},{default:l(()=>[s(" Populate languages with iHRIS Texts ")]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),e(ie,null,{default:l(()=>[(D(!0),le(M,null,qe(o.translatedLanguages,(r,w)=>(D(),U(Z,{key:w,value:r,color:"primary",rounded:"xl"},{default:l(()=>[e(re,null,{default:l(()=>[e(A,null,{default:l(()=>[e(Ye,{textContent:ue(r.language),onClick:m=>g.selected(r)},null,8,["textContent","onClick"])]),_:2},1024),o.textExtractionStatus[r.locale].active?(D(),U(A,{key:0},{default:l(()=>[o.textExtractionStatus[r.locale].running?(D(),U(Je,{key:0,color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"})):Q("",!0),o.textExtractionStatus[r.locale].displayStatus?(D(),U(V,{key:1},{default:l(()=>[s(" mdi-check ")]),_:1})):Q("",!0)]),_:2},1024)):Q("",!0)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})])}const ct=He(Ze,[["render",st]]);export{ct as default};
