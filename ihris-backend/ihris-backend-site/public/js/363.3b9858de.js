"use strict";(self["webpackChunkiHRIS_v5"]=self["webpackChunkiHRIS_v5"]||[]).push([[363],{22764:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"py-5",attrs:{fluid:""}},[a("v-overlay",{attrs:{value:e.overlay}},[a("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"50"}})],1),a("v-toolbar",{attrs:{color:"deep-purple accent-4",dark:"",flat:""},scopedSlots:e._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"background-color":"deep-purple accent-4",centered:"",dark:"","icons-and-text":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{key:"approved"},[e._v(" Approved Payments "),a("v-icon",[e._v("mdi-web-check")])],1),a("v-tab",{key:"others"},[e._v(" Pending Approval Payments "),a("v-icon",[e._v("mdi-web-cancel")])],1),a("v-tab",{key:"all"},[e._v(" Approved And Pending Payments "),a("v-icon",[e._v("mdi-select-all")])],1)],1)]},proxy:!0}])},[a("v-toolbar-title",{staticClass:"text-h6 font-weight-bold"},[a("v-icon",{staticClass:"mr-2",attrs:{left:""}},[e._v("mdi-cash-multiple")]),e._v(" Fees Payment Summary For Year "+e._s(e.academicYear)+" ")],1)],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{key:"approved"},[a("FeesSummary",{attrs:{summary:e.summary.approved,overlay:e.overlay,title:"Approved Payments Status"}})],1),a("v-tab-item",{key:"others"},[a("FeesSummary",{attrs:{summary:e.summary.others,title:"Pending Approval Payments Status"}})],1),a("v-tab-item",{key:"all"},[a("FeesSummary",{attrs:{summary:e.summary.all,title:"Pending And Approved Payments Status"}})],1)],1)],1)},s=[],n={data:function(){return{tab:null,loading:!1,academicYear:"",overlay:!1,summary:{approved:{},all:{}}}},mounted:function(){this.getData(!0)},computed:{role(){let e=this.$store.state.user.obj.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-assign-role"===e.url)).valueReference.reference;return e.split("/")[1]},approvedPaymentPercentage(){return this.summary.approved.paid/this.summary.approved.required*100}},components:{FeesSummary:()=>a.e(5346).then(a.bind(a,25346))},methods:{getData(){this.overlay=!0;let e="/site/student/getFeesPaymentsSummary";fetch(e).then((e=>{200===e.status?e.json().then((e=>{this.overlay=!1,this.summary=e})):(this.overlay=!1,this.$store.commit("setError","Unable to load data"))})).catch((()=>{this.overlay=!1,this.$store.commit("setError","Unable to load data")}))}},created(){fetch("/site/student/getAcademicYear").then((e=>{e.json().then((e=>{this.academicYear=e.academicYear;let t=e.end.split("-"),a=parseInt(t[0])-1;this.startDate=a+"-"+t[1]+"-"+t[2],this.endDate=e.end}))}))}},o=n,i=a(43736),l=a(43453),m=a.n(l),c=a(4228),u=a(96428),d=a(51058),v=a(90624),p=a(94227),y=a(71759),h=a(38697),b=a(51954),f=a(21208),k=a(36656),g=a(27921),P=(0,i.Z)(o,r,s,!1,null,null,null),S=P.exports;m()(P,{VContainer:c.Z,VIcon:u.Z,VOverlay:d.Z,VProgressCircular:v.Z,VTab:p.Z,VTabItem:y.Z,VTabs:h.Z,VTabsItems:b.Z,VTabsSlider:f.Z,VToolbar:k.Z,VToolbarTitle:g.qW})}}]);
//# sourceMappingURL=363.3b9858de.js.map