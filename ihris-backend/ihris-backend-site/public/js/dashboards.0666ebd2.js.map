{"version":3,"file":"js/dashboards.0666ebd2.js","mappings":"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","sources":["webpack://iHRIS-v5/../../../src/components/VSubheader/VSubheader.ts","webpack://iHRIS-v5/./src/mixins/kibana.js","webpack://iHRIS-v5/./src/views/dashboards-list.vue?e8d5","webpack://iHRIS-v5/src/views/dashboards-list.vue","webpack://iHRIS-v5/./src/views/dashboards-list.vue?81f6","webpack://iHRIS-v5/./src/views/dashboards-list.vue","webpack://iHRIS-v5/./src/views/kibana-dashboard.vue?1949","webpack://iHRIS-v5/src/views/kibana-dashboard.vue","webpack://iHRIS-v5/./src/views/kibana-dashboard.vue?4550","webpack://iHRIS-v5/./src/views/kibana-dashboard.vue"],"sourcesContent":["// Styles\nimport './VSubheader.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nexport default mixins(\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-subheader',\n\n  props: {\n    inset: Boolean,\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-subheader',\n      class: {\n        'v-subheader--inset': this.inset,\n        ...this.themeClasses,\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n    }, this.$slots.default)\n  },\n})\n","import axios from \"axios\";\nexport const kibana = {\n  data() {\n    return {\n      dashboards: [],\n      ignoreDashboards: [\"testing\", \"test\", \"Testing\", \"Test\"],\n      tags: []\n    }\n  },\n  methods: {\n    getTags(page) {\n      return new Promise((resolve, reject) => {\n        let url = \"/dashboards/api/saved_objects/_find?type=tag&per_page=10000\"\n        if(page) {\n          url += \"&page=\" + page\n        }\n        fetch(url).then((response) => {\n          response.json().then((response) => {\n            let totalPages = Math.ceil(response.total/response.per_page)\n            if(response.saved_objects) {\n              this.tags = this.tags.concat(response.saved_objects)\n            }\n            if(response.page < totalPages) {\n              this.getTags(response.page + 1).then(() => {\n                resolve()\n              }).catch(() => {\n                reject()\n              })\n            } else {\n              resolve()\n            }\n          }).catch(() => {\n          reject()\n        })\n        }).catch(() => {\n          reject()\n        })\n      })\n    },\n    getDashboards() {\n      return new Promise((resolve, reject) => {\n        let body = {\n          type: \"dashboard\",\n          excludeExportDetails: true,\n          includeReferencesDeep: false\n        }\n        let options = {\n          method: \"POST\",\n          headers: {\n            \"kbn-xsrf\": true,\n            \"Content-Type\": \"application/fhir+json\",\n          },\n          redirect: \"manual\",\n          data: body\n        }\n        axios(\"/dashboards/api/saved_objects/_export\", options).then((response) => {\n          let lines = response.data && response.data.split('\\n');\n          let accept = true\n          for (let i = 0; i < lines.length - 1; i++) {\n            if (lines[i].trim()) {\n              try {\n                const dashboard = JSON.parse(lines[i]);\n                for(let reference of dashboard.references) {\n                  if(reference.type !== 'tag') {\n                    continue\n                  }\n                  let tag = this.tags.find((tag) => {\n                    return tag.id === reference.id\n                  })\n                  if(this.ignoreDashboards.includes(tag.attributes.name)) {\n                    accept = false\n                    break\n                  }\n                }\n                if(accept) {\n                  this.dashboards.push({\n                    id: dashboard.id,\n                    title: dashboard.attributes.title\n                  })\n                }\n              } catch (error) {\n                console.error('Error parsing JSON:', error);\n              }\n            }\n          }\n          let buffer = lines[lines.length - 1];\n          if (buffer.trim()) {\n            try {\n              const dashboard = JSON.parse(buffer);\n              for(let reference of dashboard.references) {\n                if(reference.type !== 'tag') {\n                  continue\n                }\n                let tag = this.tags.find((tag) => {\n                  return tag.id === reference.id\n                })\n                if(this.ignoreDashboards.includes(tag.attributes.name)) {\n                  accept = false\n                  break\n                }\n              }\n              if(accept) {\n                this.dashboards.push({\n                  id: dashboard.id,\n                  title: dashboard.attributes.title\n                })\n              }\n            } catch (error) {\n              console.error('Error parsing final JSON object:', error);\n            }\n          }\n          resolve()\n        }).catch((err) => {\n          console.log(err);\n          reject()\n        })\n      })\n    }\n  },\n  created() {\n    this.loading = true\n    this.getTags().then(() => {\n      this.getDashboards().then(() => {\n        this.loading = false\n      }).catch(() => {\n        this.loading = false\n      })\n    }).catch(() => {\n      this.loading = false\n    })\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-xs\":\"\"}},[_c('v-card',{attrs:{\"elevation\":\"1\"}},[_c('v-card-title',{staticClass:\"primary darken-1 white--text font-weight-bold justify-center\"},[_vm._v(\" Dashboards \"),_c('v-spacer'),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"color\":\"white\"},on:{\"click\":function($event){return _vm.$router.push('/build-dashboard')}}},[_vm._v(\" Build Dashboards \")])],1),_c('v-card-text',[_c('v-text-field',{staticClass:\"white--text font-weight-bold justify-center\",attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"items\":_vm.dashboards,\"headers\":_vm.headers,\"search\":_vm.search,\"hide-default-header\":\"\",\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('tr',[_c('td',[_c('v-list-item',{on:{\"click\":function($event){return _vm.$router.push('/dashboard/' + item.id)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-monitor-dashboard\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.title))])],1)],1)],1)])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container grid-list-xs>\n    <v-card elevation=\"1\">\n      <v-card-title class=\"primary darken-1 white--text font-weight-bold justify-center\">\n        Dashboards\n        <v-spacer></v-spacer>\n        <v-btn\n          class=\"ma-2\"\n          outlined\n          color=\"white\"\n          @click=\"$router.push('/build-dashboard')\"\n        >\n          Build Dashboards\n        </v-btn>\n      </v-card-title>\n      <v-card-text>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n          class=\"white--text font-weight-bold justify-center\"\n        ></v-text-field>\n        <v-data-table\n          :items=\"dashboards\"\n          :headers=\"headers\"\n          class=\"elevation-1\"\n          :search=\"search\"\n          hide-default-header\n          :loading=\"loading\"\n        >\n          <template v-slot:item=\"{ item }\">\n            <tr>\n              <td>\n                <v-list-item\n                  @click=\"$router.push('/dashboard/' + item.id)\"\n                >\n                  <v-list-item-icon>\n                    <v-icon>mdi-monitor-dashboard</v-icon>\n                  </v-list-item-icon>\n                  <v-list-item-content>\n                    <v-list-item-title>{{ item.title }}</v-list-item-title>\n                  </v-list-item-content>\n                </v-list-item>\n              </td>\n            </tr>\n          </template>\n        </v-data-table>\n      </v-card-text>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\nimport { kibana } from \"@/mixins/kibana\"\n\nexport default {\n  name: \"dashboard\",\n  props: [ \"id\" ],\n  mixins: [kibana],\n  data() {\n    return {\n      loading: false,\n      search: '',\n      headers: [{\n        text: \"Name\",\n        value: \"title\"\n      }]\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dashboards-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./dashboards-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboards-list.vue?vue&type=template&id=6575c7d3&\"\nimport script from \"./dashboards-list.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboards-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDataTable,VIcon,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('iframe',{staticStyle:{\"border\":\"none\"},attrs:{\"src\":'/dashboards/app/home#/',\"height\":\"100%\",\"width\":\"100%\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <iframe\n      :src=\"'/dashboards/app/home#/'\"\n      height=\"100%\"\n      style=\"border: none;\"\n      width=\"100%\"\n  ></iframe>\n</template>\n\n<script>\nexport default {\n  name: \"kibana-dashboard\",\n  created() {\n    this.$store.state.minidrawer = true\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./kibana-dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./kibana-dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./kibana-dashboard.vue?vue&type=template&id=5edb00c4&\"\nimport script from \"./kibana-dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./kibana-dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["mixins","Themeable","extend","name","props","inset","Boolean","render","h","staticClass","class","this","themeClasses","attrs","$attrs","on","$listeners","$slots","default","kibana","data","dashboards","ignoreDashboards","tags","methods","getTags","page","Promise","resolve","reject","url","fetch","then","response","json","totalPages","Math","ceil","total","per_page","saved_objects","concat","catch","getDashboards","body","type","excludeExportDetails","includeReferencesDeep","options","method","headers","redirect","axios","lines","split","accept","i","length","trim","dashboard","JSON","parse","reference","references","tag","find","id","includes","attributes","push","title","error","console","buffer","err","log","created","loading","_vm","_h","$createElement","_c","_self","_v","$event","$router","model","value","callback","$$v","search","expression","scopedSlots","_u","key","fn","ref","item","_s","staticRenderFns","text","component","VBtn","staticStyle"],"sourceRoot":""}