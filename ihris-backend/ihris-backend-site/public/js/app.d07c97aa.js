(function(){"use strict";var e={8247:function(e,t,s){s.d(t,{Y:function(){return bt}});var a=s(538),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",{attrs:{id:"top"}},[s("the-header",{attrs:{app:"",header:e.header},on:{loggedin:e.updateConfig,loggedout:e.updateConfig}}),s("the-navigation",{attrs:{app:"",nav:e.nav},on:{loggedin:e.updateConfig}}),s("v-content",[s("v-snackbar",{staticClass:"mt-12",attrs:{app:"",color:e.$store.state.message.type,timeout:e.$store.state.message.timeout,top:"","multi-line":""},model:{value:e.$store.state.message.active,callback:function(t){e.$set(e.$store.state.message,"active",t)},expression:"$store.state.message.active"}},[e._v(" "+e._s(e.$store.state.message.text)+" "),s("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.$store.commit("closeMessage")}}},[s("v-icon",[e._v("mdi-close")])],1)],1),s("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.$store.state.progress.enabled,callback:function(t){e.$set(e.$store.state.progress,"enabled",t)},expression:"$store.state.progress.enabled"}},[s("v-card",{attrs:{color:"primary",dark:""}},[s("v-card-text",[e._v(" "+e._s(e.$store.state.progress.title)+" "),s("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),s("router-view",{key:e.$route.fullPath}),e.$store.state.user.loggedin?s("router-view",{key:e.$route.fullPath,attrs:{name:"homeNav",nav:e.nav}}):e._e()],1),s("the-footer",{attrs:{footer:e.footer}})],1)},n=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-app-bar",{attrs:{color:"white",app:"","clipped-left":"","clipped-right":""}},[s("router-link",{attrs:{to:"/"}},[s("v-img",{attrs:{src:"/images/"+e.header.logo,contain:"","max-height":"36","max-width":"106"}})],1),s("v-toolbar-title",{staticClass:"headline ml-2",attrs:{bottom:"true"}},[e.header.title?s("span",{staticClass:"primary--text"},[e._v(" "+e._s(e.$t("App.title"))+" ")]):e._e(),e.header.site?s("span",{staticClass:"secondary--text"},[e._v(" | "+e._s(e.$t("App.site"))+" ")]):e._e()]),e.$store.state.security_off?s("v-spacer"):e._e(),e.$store.state.security_off?s("div",{staticClass:"error font-weight-bold white--text",attrs:{dark:""}},[e._v(" "+e._s(e.$t("App.hardcoded-texts.Security has been disabled for remote configuration and modules!"))+" "),s("br"),e._v(" "+e._s(e.$t("App.hardcoded-texts.This should only be done during development."))+" ")]):e._e(),s("v-spacer"),s("v-spacer"),e.header.title?e._e():s("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}),s("v-btn",{attrs:{icon:"",to:"/",title:"Home"}},[s("v-icon",[e._v("mdi-home")])],1),s("v-btn",{attrs:{icon:"",title:"Help"}},[s("v-icon",[e._v("mdi-help")])],1),s("div",[s("language-switcher")],1),e.$store.state.user.loggedin?[s("v-btn",{attrs:{small:"",fab:"",dark:"",title:"Logout",loading:e.loading,disabled:e.loading},on:{click:e.logout}},[s("v-icon",[e._v("mdi-logout")])],1)]:e._e()],2),s("v-overlay",{attrs:{value:e.idle_countdown}},[s("v-card",{staticClass:"secondary lighten-1"},[s("v-card-title",{staticClass:"headline warning white--text",attrs:{"primary-title":""}},[e._v(e._s(e.$t("App.hardcoded-texts.Idle - Auto Logout")))]),s("v-card-text",{staticClass:"black--text"},[e._v(e._s(e.$t("App.hardcoded-texts.You have been idle too long and will be logged out in"))+" "+e._s(e.idle_logout)+" "+e._s(e.$t("App.hardcoded-texts.seconds.")))])],1)],1)],1)},o=[],l=s(6123),c=s.n(l),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{staticClass:"ma-8",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[s("v-btn",e._g(e._b({staticClass:"text-capitalize",attrs:{text:""}},"v-btn",i,!1),a),[s("v-list-item-avatar",{attrs:{size:"24"}},[s("v-img",{attrs:{src:"/flag_"+e.activeFlag+".svg"}})],1),e._v(" "+e._s(e.activeLang)+" "),s("v-icon",{attrs:{small:"",right:""}},[e._v("mdi-menu-down")])],1)]}}]),model:{value:e.languageMenu,callback:function(t){e.languageMenu=t},expression:"languageMenu"}},[s("v-list",{attrs:{dense:""}},e._l(e.languages,(function(t,a){return s("v-list-item",{key:a,on:{click:function(s){return e.handleMenuItemClick(t)}}},[s("v-list-item-avatar",{attrs:{size:"24"}},[s("v-img",{attrs:{src:"/flag_"+t.flag+".svg"}})],1),s("v-list-item-title",[e._v(e._s(t.language))])],1)})),1)],1)},u=[],h=s(7152),p=s(9669),m=s.n(p),g=s(629);a["default"].use(g.ZP);var f=new g.ZP.Store({state:{version:"5.0.0",user:{loggedin:!1,name:"",obj:{}},login:{links:[]},signup:{},idp:"ihris",security_off:!1,message:{type:"info",text:null,timeout:5e3,active:!1},cols:{header:4,content:8},progress:{enabled:!1,title:""}},mutations:{login(e,t){e.user.loggedin=!0,e.user.name=t.name,e.user.role=t.role,e.user.userId=t.userId,e.user.obj=t.obj,e.user.location=t.location},logout(e){e.user.loggedin=!1,e.user.name="",e.user.role=""},securityOff(e,t){e.security_off=t},closeMessage(e){e.message.active=!1},setMessage(e,t){"string"===typeof t?(e.message.type="info",e.message.timeout=5e3,e.message.text=t,e.message.active=!0):(e.message.type=t.type||"info",e.message.timeout=t.timeout||5e3,e.message.text=t.text,e.message.active=!0)}},actions:{},modules:{}});a["default"].use(h.Z);const v=new h.Z({locale:"en",fallbackLocale:"en",messages:{}});function b(e){f.state.initializingApp=!0,m().get(`/translator/getLocale/${e}`).then((t=>{f.state.initializingApp=!1,v.setLocaleMessage(e,t.data),v.locale=e}))}var y={data(){return{languages:[],activeLang:"English",activeFlag:"en",dialog:!1,languageMenu:!1}},created(){this.getLanguageList()},methods:{handleMenuItemClick(e){b(e.locale),localStorage.setItem("activeLang",e.language),localStorage.setItem("activeFlag",e.flag),localStorage.setItem("activeLocale",e.locale),this.activeLang=e.language,this.activeFlag=e.flag},getLanguageList(){m().get("/translator/getTranslatedLanguages").then((e=>{this.languages=e.data,this.languages.sort(((e,t)=>e.language<t.language?-1:e.language>t.language?1:0));let t=localStorage.getItem("activeLocale")||this.$i18n.locale||"en",s=this.languages.find((e=>e.locale===t));this.$i18n.locale=s.locale,this.activeLang=s.language,b(s.locale||"en")}))}}},_=y,x=s(3736),k=s(3453),w=s.n(k),$=s(3150),C=s(6428),V=s(7047),A=s(6816),Z=s(7620),P=s(6421),L=s(4562),O=s(1152),j=(0,x.Z)(_,d,u,!1,null,null,null),I=j.exports;w()(j,{VBtn:$.Z,VIcon:C.Z,VImg:V.Z,VList:A.Z,VListItem:Z.Z,VListItemAvatar:P.Z,VListItemTitle:L.V9,VMenu:O.Z});var E={name:"the-header",props:["header"],data:function(){return{loading:!1,idle_countdown:!1,idle_logout:30}},components:{LanguageSwitcher:I},onIdle(){this.$store.state.user.loggedin&&this.idleDialog()},onActive(){this.idle_countdown=!1},methods:{idleDialog(){this.idle_logout=30,this.idle_countdown=!0;let e=setInterval((()=>{if(!this.isAppIdle)return clearInterval(e);this.idle_logout-=1,this.idle_logout<1&&(clearInterval(e),this.logout(null,!0))}),1e3)},logout(e,t){"keycloak"===this.$store.state.idp?(c().remove("userObj"),this.$keycloak.logout()):(this.loading=!0,fetch("/auth/logout").then((()=>{this.loading=!1,this.$store.commit("logout"),this.$emit("loggedout"),t?this.$store.commit("setMessage",{type:"warning",text:this.$t("App.hardcoded-texts.You have been logged out due to inactivity."),timeout:36e5}):this.$store.commit("setMessage",{type:"success",text:this.$t("App.hardcoded-texts.You have logged out.")}),this.$router.push({path:"/"})})))}}},S=E,T=s(8320),N=s(2371),R=s(7118),M=s(1058),B=s(624),D=s(9762),q=s(7921),H=(0,x.Z)(S,r,o,!1,null,null,null),z=H.exports;w()(H,{VAppBar:T.Z,VBtn:$.Z,VCard:N.Z,VCardText:R.ZB,VCardTitle:R.EB,VIcon:C.Z,VImg:V.Z,VOverlay:M.Z,VProgressCircular:B.Z,VSpacer:D.Z,VToolbarTitle:q.qW});var F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$store.state.user.loggedin?s("v-navigation-drawer",{staticClass:"primary darken-1 white--text font-weight-bold",staticStyle:{"z-index":"3"},attrs:{"mini-variant":e.mini,app:"",clipped:"",permanent:""},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list-item",{staticClass:"px-2 py-2"},[s("v-list-item-avatar",[s("v-icon",{staticClass:"white--text",attrs:{size:"48"}},[e._v("mdi-account-circle")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"white--text"},[e._v(e._s(e.$store.state.user.name))]),s("v-list-item-subtitle",{staticClass:"white--text"},[e._v(e._s(e.$store.state.user.roleName))])],1),s("v-btn",{attrs:{icon:""},on:{click:function(t){t.stopPropagation(),e.mini=!e.mini}}},[s("v-icon",{staticClass:"white--text"},[e._v("mdi-chevron-left")])],1)],1),s("v-divider",{staticClass:"grey"}),e.$store.state.user.loggedin?s("v-list",{attrs:{dark:"",dense:"",nav:""}},[e._l(e.menu,(function(t){return[t.menu?[s("v-list-group",{key:t.id,class:t.active&&!e.mini?"primary pa-3":t.active&&e.mini?"primary":"",staticStyle:{"border-radius":"20px"},attrs:{"prepend-icon":t.icon,value:t.active,color:"white--text","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-title",{staticClass:"subtitle-1  font-weight-bold text-uppercase"},[e._v(e._s(e.$t("App.menu."+t.text))+" ")])]},proxy:!0}],null,!0),model:{value:t.active,callback:function(s){e.$set(t,"active",s)},expression:"item.active"}},e._l(t.menu,(function(t){return s("v-list-item",{key:t.id,staticClass:"text-right",attrs:{to:t.url,"active-class":"primary darken-2",dense:""}},[s("v-list-item-title",[e._v(e._s(e.$t("App.menu."+t.text)))]),s("v-icon",[e._v("mdi-chevron-right")])],1)})),1)]:[s("v-list-item",{key:t.id,attrs:{href:e._f("getExternalURL")(t),to:e._f("getInternalURL")(t)}},[s("v-list-item-icon",[s("v-icon",[e._v(e._s(t.icon))])],1),s("v-list-item-title",{staticClass:"subtitle-1 font-weight-bold text-uppercase"},[e._v(e._s(e.$t("App.menu."+t.text))+" ")])],1)]]}))],2):s("v-list",{staticClass:"primary lighten-1",attrs:{dark:"",dense:"",nav:""}},e._l(e.nav.auths,(function(t){return s("v-list-item",{key:t.id},[s("v-list-item-title",[s("auth-button",{attrs:{big:!0,data:t},on:{loggedin:function(t){return e.$emit("loggedin",t)}}})],1)],1)})),1)],1):e._e()},U=[],G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-xs-center"},["get"==e.data.method?s("a",{attrs:{href:e.data.link}},[e.image?s("img",{attrs:{src:"/images/"+e.image,alt:e.data.btn.text,width:"191",height:"46"}}):e._e()]):e._e(),"post"==e.data.method?s("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[s("a",e._g({},a),[e.image?s("img",{attrs:{src:"/images/"+e.image,alt:e.data.btn.text,width:"191",height:"46"}}):e._e()])]}}],null,!1,4006777567),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-form",[s("v-card",[s("v-card-title",{staticClass:"headline info white--text",attrs:{dark:"","primary-title":""}},[e._v(e._s(e.$t("App.hardcoded-texts.Login")))]),s("v-card-text",[s("v-text-field",{attrs:{label:"Email Address",required:"","prepend-icon":"mdi-email"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{label:"Password",required:"","append-icon":e.show_pass?"mdi-eye":"mdi-eye-off",type:e.show_pass?"text":"password","prepend-icon":"mdi-form-textbox-password"},on:{"click:append":function(t){e.show_pass=!e.show_pass}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),s("v-divider"),s("v-card-actions",[s("v-snackbar",{attrs:{absolute:e.absolute,color:"secondary"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.message)+" "),s("v-btn",{attrs:{color:"warning",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v(e._s(e.$t("App.hardcoded-texts.Close")))])],1),s("v-spacer"),s("v-btn",{attrs:{color:"success",loading:e.loggingin,disabled:e.loggingin},on:{click:e.submit}},[e._v(e._s(e.$t("App.hardcoded-texts.Login")))])],1)],1)],1)],1):e._e()],1)},W=[],Y={name:"auth-button",props:["data","big"],data:function(){return{dialog:!1,username:"",password:"",show_pass:!1,loggingin:!1,message:"",snackbar:!1,absolute:!0}},computed:{image:function(){return this.big?this.data.btn.image2x:this.data.btn.image}},methods:{submit(){this.loggingin=!0;var e=new URLSearchParams;e.append("username",this.username),e.append("password",this.password),fetch(this.data.link,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then((e=>{this.loggingin=!1,e.ok?e.json().then((e=>{this.dialog=!1,this.snackbar=!0,this.message=this.$t("App.hardcoded-texts.Login successfull"),this.$emit("loggedin",e.name)})).catch((e=>{this.loggingin=!1,this.snackbar=!0,this.message=e.message})):(this.message=this.$t("App.hardcoded-texts.Username or password is incorrect!"),this.snackbar=!0,this.loggingin=!1)})).catch((e=>{console.log(e),this.loggingin=!1,this.snackbar=!0,this.message=this.$t("App.hardcoded-texts.Login failed: ")+e.message}))}}},J=Y,K=s(4497),Q=s(1418),X=s(6232),ee=s(3202),te=s(5978),se=(0,x.Z)(J,G,W,!1,null,null,null),ae=se.exports;w()(se,{VBtn:$.Z,VCard:N.Z,VCardActions:R.h7,VCardText:R.ZB,VCardTitle:R.EB,VDialog:K.Z,VDivider:Q.Z,VForm:X.Z,VSnackbar:ee.Z,VSpacer:D.Z,VTextField:te.Z});var ie={name:"the-navigation",props:["nav"],components:{AuthButton:ae},mounted:function(){this.updateMenu()},watch:{nav:{handler(){this.updateMenu()},deep:!0}},filters:{getInternalURL(e){return"true"===e.external?"":e.url},getExternalURL(e){return"true"===e.external?e.url:""}},data:function(){return{menu:[],mini:!1,drawer:!0}},methods:{updateMenu:function(){this.menu=[];for(let e of Object.keys(this.nav.menu)){let t={};if(t={id:e,text:this.nav.menu[e].text,icon:this.nav.menu[e].icon,order:this.nav.menu[e].order},this.nav.active===e?t.active=!0:t.active=!1,this.nav.menu[e].menu){t.menu=[];for(let s of Object.keys(this.nav.menu[e].menu)){if(this.nav.menu[e].menu[s]?.menu||"true"===this.nav.menu[e]?.menuGridView){t.url=`/menu-grid-view/${e}`,delete t.menu;break}let a={id:s,text:this.nav.menu[e].menu[s].text,url:this.nav.menu[e].menu[s].url,order:this.nav.menu[e].menu[s].order,external:this.nav.menu[e].external,menu:{}};t.menu.push(a),t.menu.sort(((e,t)=>e.text===t.text?0:e.text<t.text?-1:1))}}else this.nav.menu[e].url&&(t.url=this.nav.menu[e].url,t.external=this.nav.menu[e].external);this.menu.push(t)}this.menu.sort(((e,t)=>Number(e.order)===Number(t.order)?0:Number(e.order)<Number(t.order)?-1:1))}}},ne=ie,re=s(9443),oe=s(459),le=s(5132),ce=(0,x.Z)(ne,F,U,!1,null,"ff823ada",null),de=ce.exports;w()(ce,{VBtn:$.Z,VDivider:Q.Z,VIcon:C.Z,VList:A.Z,VListGroup:re.Z,VListItem:Z.Z,VListItemAvatar:P.Z,VListItemContent:L.km,VListItemIcon:oe.Z,VListItemSubtitle:L.oZ,VListItemTitle:L.V9,VNavigationDrawer:le.Z});var ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-footer",{attrs:{color:"white",app:""}},[s("v-row",{attrs:{justify:"start"}},[e._v(" iHRIS "+e._s(e.$store.state.version)+" ")]),s("v-row",{attrs:{justify:"end"}},e._l(e.footer.links,(function(t){return s("v-btn",{key:t.id,staticClass:"text-none",attrs:{text:"",to:t.to,href:t.href,target:t.href?"_blank":""}},[e._v(" "+e._s(e.$t("App.footer."+t.text))+" ")])})),1)],1)},he=[],pe={name:"the-footer",props:["footer"],data:function(){return{}}},me=pe,ge=s(899),fe=s(2877),ve=(0,x.Z)(me,ue,he,!1,null,null,null),be=ve.exports;w()(ve,{VBtn:$.Z,VFooter:ge.Z,VRow:fe.Z});var ye={name:"App",data:()=>({header:{title:!1,site:null,logo:"iHRIS5Logo.png",auths:[]},footer:{links:[]},nav:{active:null,menu:{},auths:[]}}),components:{TheHeader:z,TheNavigation:de,TheFooter:be},methods:{updateConfig:function(){fetch("/auth").then((()=>{fetch("/config/site").then((e=>{e.json().then((e=>{if(this.$store.state.version=e.version,e.auth&&e.auth.signup&&(this.$store.state.signup=e.auth.signup),e.hasOwnProperty("footer")&&e.footer.hasOwnProperty("links")){this.footer.links=[];for(let t of Object.keys(e.footer.links))e.footer.links[t].id=t,this.footer.links.push(e.footer.links[t])}if(e.hasOwnProperty("login")&&e.login.hasOwnProperty("links")){this.$store.state.login.links=[];for(let t of Object.keys(e.login.links))e.login.links[t].id=t,this.$store.state.login.links.push(e.login.links[t])}if(e.hasOwnProperty("security")&&e.security.hasOwnProperty("disabled")&&this.$store.commit("securityOff",e.security.disabled),e.hasOwnProperty("title")&&(this.header.title=e.title),e.hasOwnProperty("site")&&(this.header.site=e.site),e.hasOwnProperty("logo")&&(this.header.logo=e.logo),e.hasOwnProperty("auth")){this.header.auths=[],this.nav.auths=[];for(let t of Object.keys(e.auth))e.auth[t].id=t,this.header.auths.push(e.auth[t]),this.nav.auths.push(e.auth[t])}if(e.hasOwnProperty("user"))if(e.user.loggedin){let t={name:e.user.name,role:e.user.role,obj:e.user.obj};this.$store.commit("login",t)}else this.$store.commit("logout");e.hasOwnProperty("nav")&&(e.nav.hasOwnProperty("active")&&(this.nav.active=e.nav.active),e.nav.hasOwnProperty("menu")&&(this.nav.menu=e.nav.menu),e.nav.hasOwnProperty("home")&&(this.nav.home=e.nav.home))}))}))}))}},created:function(){localStorage.getItem("activeLang")||(localStorage.setItem("activeLang","English"),localStorage.setItem("activeFlag","en"),localStorage.setItem("activeCode","en")),this.updateConfig(),bt.$on("updateconfig",(()=>{this.updateConfig()}))}},_e=ye,xe=s(7524),ke=s(4946),we=s(7003),$e=(0,x.Z)(_e,i,n,!1,null,null,null),Ce=$e.exports;w()($e,{VApp:xe.Z,VBtn:$.Z,VCard:N.Z,VCardText:R.ZB,VContent:ke.Z,VDialog:K.Z,VIcon:C.Z,VProgressLinear:we.Z,VSnackbar:ee.Z});var Ve=s(8345),Ae=function(){var e=this,t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"home"},[a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"white--text justify-center primary darken-1"},[a("v-icon",{attrs:{color:"white",left:""}},[t._v(" mdi-account-plus ")]),t._v(" "+t._s(t.$t("App.hardcoded-texts.Register"))+" ")],1),a("v-card-text",{staticClass:"px-12 pt-6"},[a("v-text-field",{attrs:{outlined:"",dense:"",type:"email",label:t.$t("App.hardcoded-texts.Email Address"),required:"","prepend-icon":"mdi-email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{outlined:"",dense:"",label:t.$t("App.hardcoded-texts.Birth Date"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{max:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),min:"1910-01-01"},on:{change:t.saveDate},model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}})],1),a("v-text-field",{attrs:{outlined:"",dense:"",label:t.$t("App.hardcoded-texts.Employee Number"),required:"","prepend-icon":"mdi-account-key"},model:{value:t.employeeNumber,callback:function(e){t.employeeNumber=e},expression:"employeeNumber"}})],1),a("v-card-actions",[a("v-snackbar",{attrs:{absolute:t.absolute,color:"secondary"},model:{value:t.snackbarRegister,callback:function(e){t.snackbarRegister=e},expression:"snackbarRegister"}},[t._v(" "+t._s(t.message)+" "),a("v-btn",{attrs:{color:"warning",text:""},on:{click:function(e){t.snackbarRegister=!1}}},[t._v(t._s(t.$t("App.hardcoded-texts.Close")))])],1),a("v-spacer"),a("v-btn",{staticClass:"mr-8 mb-6 primary",attrs:{loading:t.registering,disabled:t.registering},on:{click:t.register}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-account-plus ")]),t._v(" "+t._s(t.$t("App.hardcoded-texts.Sign Up"))+" ")],1)],1)],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:t.resetPasswordDialog,callback:function(e){t.resetPasswordDialog=e},expression:"resetPasswordDialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"white--text justify-center primary darken-1"},[a("v-icon",{attrs:{color:"white",left:""}},[t._v(" mdi-lock-reset ")]),t._v(" "+t._s(t.$t("App.hardcoded-texts.Reset Password"))+" ")],1),a("v-card-text",{staticClass:"px-12 pt-12"},[a("v-text-field",{attrs:{outlined:"",dense:"",type:"email",label:t.$t("App.hardcoded-texts.Email Address"),required:"","prepend-icon":"mdi-email"},model:{value:t.resetPasswordEmail,callback:function(e){t.resetPasswordEmail=e},expression:"resetPasswordEmail"}})],1),a("v-card-actions",[a("v-snackbar",{attrs:{absolute:t.absolute,color:"secondary"},model:{value:t.snackbarRegister,callback:function(e){t.snackbarRegister=e},expression:"snackbarRegister"}},[t._v(" "+t._s(t.message)+" "),a("v-btn",{attrs:{color:"warning",text:""},on:{click:function(e){t.snackbarRegister=!1}}},[t._v(t._s(t.$t("App.hardcoded-texts.Close")))])],1),a("v-spacer"),a("v-btn",{staticClass:"mr-8 mb-6 primary",attrs:{loading:t.registering,disabled:t.registering},on:{click:t.resetPassword}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-lock-reset ")]),t._v(" "+t._s(t.$t("App.hardcoded-texts.Reset Password"))+" ")],1)],1)],1)],1)],1),a("v-container",{staticClass:"lighten-1",attrs:{"fill-height":""}},[t.$store.state.user.loggedin?t._e():a("v-card-text",[a("v-row",{staticClass:"ma-0 pa-0 pt-12"},[a("v-col",{staticClass:"pt-12 pr-0",attrs:{md:t.$store.state.user.loggedin?12:6,align:"right",cols:"12"}},[a("v-card",{staticClass:"pa-4 pt-12",attrs:{"max-width":"600","min-height":"600"}},[a("v-card-title",{staticClass:"justify-center"},[a("v-img",{attrs:{src:"/images/iHRIS5LogoBig.png",align:"center",contain:"",justify:"center","max-height":"132","max-width":"150"}})],1),a("v-card-text",{attrs:{align:"center",justify:"center"}},[a("br"),a("h1",{staticClass:"mt-8 text--primary font-weight-bold text-lg-center"},[t._v(" "+t._s(t.$t("App.hardcoded-texts.Welcome to iHRIS!"))),a("br")]),a("br"),a("p",{staticClass:"pt-8 subtitle-1 text--primary font-weight-medium text-lg-justify"},[t._v(" "+t._s(t.$t("App.hardcoded-texts.what_is_ihris"))+" ")])])],1)],1),a("v-col",{staticClass:"pt-12 pl-0  ",attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"primary  darken-1 white--text pa-10",attrs:{dark:"","max-width":"600","min-height":"600",raised:""}},[a("v-card-title",{staticClass:"justify-center mb-4"},[a("div",{staticClass:"white--text display-1"},[a("v-icon",{staticClass:"mr-2",attrs:{size:"48"}},[t._v("mdi-account-circle")]),t._v(t._s(t.$t("App.hardcoded-texts.Sign in"))),a("br")],1)]),a("v-card-text",{staticClass:"pt-8"},[a("v-form",[a("h4",{staticClass:"white--text"},[t._v(t._s(t.$t("App.hardcoded-texts.Username/Email")))]),a("v-text-field",{staticClass:"pt-1 white--text",attrs:{"background-color":"#0d3552",placeholder:t.$t("App.hardcoded-texts.Username/Email"),required:"",solo:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("h4",{staticClass:"white--text pt-2"},[t._v(t._s(t.$t("App.hardcoded-texts.Password")))]),a("v-text-field",{staticClass:"pt-1 white--text",attrs:{"append-icon":t.show_pass?"mdi-eye":"mdi-eye-off",type:t.show_pass?"text":"password","background-color":"#0d3552",placeholder:"****************",required:"",solo:""},on:{"click:append":function(e){t.show_pass=!t.show_pass}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-snackbar",{staticClass:"mb-8",attrs:{color:"secondary"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.message)+" "),a("v-btn",{attrs:{disabled:t.loggingin,loading:t.loggingin,color:"warning",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(t._s(t.$t("App.hardcoded-texts.Close"))+" ")])],1),a("v-spacer"),a("v-btn",{attrs:{disabled:t.loggingin,loading:t.loggingin,light:""},on:{click:t.submit}},[t._v(t._s(t.$t("App.hardcoded-texts.Sign in")))])],1),a("v-card-actions",{staticClass:"mt-12"},[a("v-btn",{staticClass:"mx-2 text--white",staticStyle:{"text-transform":"none"},attrs:{outlined:"",color:"primary",text:""},on:{click:function(){e.resetPasswordDialog=!0}}},[t._v(" "+t._s(t.$t("App.hardcoded-texts.Forgot Password")))]),a("v-spacer"),t.$store.state.signup.enabled?a("v-btn",{staticClass:"mx-2 text--white",staticStyle:{"text-transform":"none"},attrs:{outlined:"",color:"primary",text:""},on:{click:t.signupRedirect}},[t._v(" "+t._s(t.$t("App.hardcoded-texts.No account? Sign Up"))+" ")]):t._e()],1)],1)],1)],1)],1),t.$store.state.login.links.length&&!t.$store.state.user.loggedin?t._l(t.$store.state.login.links,(function(e){return a("v-col",{key:e.url},[a("v-row",[a("v-btn",{key:e.url,attrs:{text:"",to:e.url,color:e.color}},[e.icon?a("v-icon",{attrs:{light:"",left:""}},[t._v(t._s(e.icon))]):t._e(),t._v(" "+t._s(e.text)+" ")],1)],1)],1)})):t._e()],2)],1)},Ze=[],Pe={name:"Home",data(){return{username:"",password:"",show_pass:!1,loggingin:!1,message:"",snackbar:!1,snackbarRegister:!1,absolute:!0,auth:{},dialog:!1,email:"",birthDate:null,menu:!1,employeeNumber:"",registering:!1,resetPasswordDialog:!1,resetPasswordEmail:""}},methods:{signupRedirect(){"default"===this.$store.state.signup.page?this.dialog=!0:this.$router.push(this.$store.state.signup.page)},saveDate(e){this.$refs.menu.save(e)},submit(){this.loggingin=!0;let e=new URLSearchParams;e.append("username",this.username),e.append("password",this.password),0===this.username.length||0===this.password.length?(this.message=this.$t("App.hardcoded-texts.Both Username and password are required"),this.snackbar=!0,this.loggingin=!1):fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then((e=>{this.loggingin=!1,e.ok?e.json().then((e=>{this.snackbar=!0,this.message=this.$t("App.hardcoded-texts.Login successfull");let t={};t.obj=e.user,t.name="Unknown";let s=!1;if(e.user.resource){let a=e.user.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-assign-role"===e.url));if(a){let e=a.valueReference.reference.split("/");t.role=e.pop()}t.name=e.user.resource.name[0].text;let i=e.user.resource.extension.find((e=>"http://ihris.org/fhir/StructureDefinition/ihris-password"===e.url));if(i){let e=i.extension.find((e=>"passwordChanged"===e.url));e&&!e.valueBoolean&&(s=!0)}}bt.$emit("updateconfig"),s?this.$router.push({path:"/questionnaire/ihris-change-password/user"}):location.reload()})).catch((e=>{this.loggingin=!1,this.snackbar=!0,this.message=e.message})):(this.message=this.$t("App.hardcoded-texts.Username or password is incorrect!"),this.snackbar=!0,this.loggingin=!1)})).catch((e=>{console.log(e),this.loggingin=!1,this.snackbar=!0,this.message=this.$t("App.hardcoded-texts.Login failed: ")+e.message}))},resetPassword(){this.loggingin=!0;let e=new URLSearchParams;e.append("email",this.resetPasswordEmail);let t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;""===this.resetPasswordEmail?(this.message=this.$t("App.hardcoded-texts.Email Field is required!"),this.snackbarRegister=!0,this.signingin=!1):this.resetPasswordEmail.match(t)?fetch("/auth/password-reset-request",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.loggingin=!1,e.ok?(console.log(e),this.message=e.message,this.snackbar=!0,setTimeout((()=>{this.resetPasswordDialog=!1,this.$router.push("/")}),1e3)):(this.message=e.message,this.snackbar=!0)})).catch((e=>{this.loggingin=!1,this.message=e,this.snackbar=!0})):(this.message=this.$t("App.hardcoded-texts.Please enter a valid email"),this.snackbarRegister=!0,this.signingin=!1)},register(){this.signingin=!0;let e=new URLSearchParams;if(e.append("username",this.email),e.append("employeeNumber",this.employeeNumber),e.append("birthDate",this.birthDate),""===this.email||""===this.employeeNumber||""===this.birthDate)this.message=this.$t("App.hardcoded-texts.Please fill in all fields"),this.snackbarRegister=!0,this.signingin=!1;else{let e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;this.email.match(e)||(this.message=this.$t("App.hardcoded-texts.Please enter a valid email"),this.snackbarRegister=!0,this.signingin=!1)}!1!==this.signingin&&(console.log("this is the data",e),fetch("/auth/signup/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then((e=>{this.signingin=!1,e.ok?e.json().then((e=>{console.log("data",e),this.snackbarRegister=!0,this.message=this.$t("App.hardcoded-texts.Sign up successful! Please login to continue"),setTimeout((()=>{this.dialog=!1,this.$router.push("/")}),1e3)})).catch((e=>{this.signingin=!1,this.snackbarRegister=!0,this.message=e.message})):(409===e.status&&(this.message=this.$t("App.hardcoded-texts.User already exists with this email address!"),this.snackbarRegister=!0,this.signingin=!1),404===e.status&&(this.message=this.$t("App.hardcoded-texts.No practitioner found with given information"),this.snackbarRegister=!0,this.signingin=!1),402===e.status&&(this.message=this.$t("App.hardcoded-texts.Email does not match with registered practitioner email"),this.snackbarRegister=!0,this.signingin=!1),403===e.status&&(this.message=this.$t("App.hardcoded-texts.No Email found for this practitioner. please add your email first!"),this.snackbarRegister=!0,this.signingin=!1))})).catch((e=>{this.signingin=!1,this.snackbarRegister=!0,this.message=this.$t("App.hardcoded-texts.Sign Up failed: ")+e.message})))}}},Le=Pe,Oe=s(2102),je=s(4228),Ie=s(9771),Ee=(0,x.Z)(Le,Ae,Ze,!1,null,"4258d4ec",null),Se=Ee.exports;w()(Ee,{VBtn:$.Z,VCard:N.Z,VCardActions:R.h7,VCardText:R.ZB,VCardTitle:R.EB,VCol:Oe.Z,VContainer:je.Z,VDatePicker:Ie.Z,VDialog:K.Z,VForm:X.Z,VIcon:C.Z,VImg:V.Z,VMenu:O.Z,VRow:fe.Z,VSnackbar:ee.Z,VSpacer:D.Z,VTextField:te.Z});var Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[e.rawHTML?s("v-card",[e.title?s("v-card-title",{staticClass:"primary white--text",attrs:{dark:"","primary-title":""}},[s("h2",[e._v(e._s(e.title))])]):e._e(),s("v-card-text",{staticClass:"pa-5"},[s("div",{domProps:{innerHTML:e._s(e.rawHTML)}})])],1):e._e()],1)},Ne=[],Re={name:"static-page",props:["id","blank-on-err"],data:function(){return{rawHTML:null,title:"Loading..."}},created:function(){this.blankOnErr||(this.rawHTML="Loading..."),fetch("/fhir/DocumentReference/"+(this.id||this.$route.params.id)+"/$html").then((e=>{e.ok?e.json().then((e=>{this.rawHTML=e.html,this.title=e.title})).catch((e=>{console.log(e),this.blankOnErr?this.rawHTML=null:(this.title="Error",this.rawHTML="<p>Failed to access requested resource.</p>")})):this.blankOnErr?this.rawHTML=null:(this.title="Error",this.rawHTML="<p>Failed to access requested resource.</p>")})).catch((e=>{console.log(e),this.blankOnErr?this.rawHTML=null:(this.title="Error",this.rawHTML="<p>Failed to access requested resource.</p>")}))}},Me=Re,Be=(0,x.Z)(Me,Te,Ne,!1,null,null,null),De=Be.exports;w()(Be,{VCard:N.Z,VCardText:R.ZB,VCardTitle:R.EB,VContainer:je.Z});var qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("div",{staticClass:"grid"},e._l(e.menu,(function(t,a){return s("v-layout",{key:a,staticClass:"item",attrs:{wrap:""}},[s("v-flex",[s("v-card",{staticClass:"md ma-2 content",attrs:{shaped:""}},[s("v-card-title",{staticClass:"primary white--text subtitle font-weight-bold text-uppercase",class:e.colors[a%e.colors.length],attrs:{"prepend-icon":t.icon,dark:""}},[s("v-icon",{attrs:{dark:""}},[e._v(e._s(t.icon))]),e._v(" "+e._s(e.$t("App.menu."+t.text))+" ")],1),s("v-card-text",[t.menu?s("v-list",e._l(t.menu,(function(t){return s("v-list-item",{key:t.id,attrs:{to:t.url}},[s("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("App.menu."+t.text)))])],1)})),1):s("v-list",[s("v-list-item",{key:t.id,attrs:{to:t.url}},[s("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(e._s(e.$t("App.menu."+t.text)))])],1)],1)],1)],1)],1)],1)})),1)])},He=[],ze={name:"HomeNav",props:["nav"],mounted:function(){this.$nextTick((()=>{this.resizeAllGridItems(),window.addEventListener("resize",this.resizeAllGridItems),this.items=this.$el.getElementsByClassName("item")})),this.updateMenu()},watch:{nav:{handler(){this.updateMenu()},deep:!0}},data:function(){return{menu:[],colors:["accent","success","warning","info","error","secondary","primary darken-1","primary darken-2","secondary darken-1"]}},methods:{resizeGridItem(e){const t=this.$el.getElementsByClassName("grid")[0],s=parseInt(getComputedStyle(t).getPropertyValue("grid-auto-rows")),a=parseInt(getComputedStyle(t).getPropertyValue("grid-row-gap")),i=Math.ceil((e.querySelector(".content").getBoundingClientRect().height+a)/(s+a));e.style.gridRowEnd=`span ${i}`},resizeAllGridItems(){this.items=this.$el.getElementsByClassName("item");for(let e=0;e<this.items.length;e++)this.resizeGridItem(this.items[e])},updateMenu:function(){if(this.$store.state.user.loggedin&&this.nav.home)"true"===this.nav.home.external?window.location=this.nav.home.url:this.$router.push(this.nav.home.url);else{this.menu=[];for(let e of Object.keys(this.nav.menu)){let t={};if(t={id:e,text:this.nav.menu[e].text,icon:this.nav.menu[e].icon,order:this.nav.menu[e].order},this.nav.active===e?t.active=!0:t.active=!1,this.nav.menu[e].menu){t.menu=[];for(let s of Object.keys(this.nav.menu[e].menu)){let a={id:s,text:this.nav.menu[e].menu[s].text,url:this.nav.menu[e].menu[s].url,order:this.nav.menu[e].menu[s].order};t.menu.push(a),t.menu.sort(((e,t)=>e.text===t.text?0:e.text<t.text?-1:1))}}else this.nav.menu[e].url&&(t.url=this.nav.menu[e].url);this.menu.push(t)}this.menu.sort(((e,t)=>Number(e.order)===Number(t.order)?0:Number(e.order)<Number(t.order)?-1:1))}}}},Fe=ze,Ue=s(5972),Ge=s(4470),We=(0,x.Z)(Fe,qe,He,!1,null,"17e91c48",null),Ye=We.exports;w()(We,{VCard:N.Z,VCardText:R.ZB,VCardTitle:R.EB,VFlex:Ue.Z,VIcon:C.Z,VLayout:Ge.Z,VList:A.Z,VListItem:Z.Z,VListItemTitle:L.V9});var Je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[e.$store.state.user.loggedin?s("v-container",[s("v-card",{attrs:{elevation:"1"}},[s("v-card-title",{staticClass:"primary darken-1 white--text font-weight-bold justify-center"},[s("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v(e._s(e.selectedIcon))]),e._v(" "+e._s(e.$t("App.menu."+e.selectedTitle))+" ")],1),s("div",{staticClass:"pa-2 grid"},[e._l(e.nestedNav,(function(t,a){return s("v-layout",{key:a,staticClass:"item",attrs:{wrap:""}},[s("v-flex",[s("v-card",{staticClass:"md ma-1 content",attrs:{rounded:""}},[s("v-card-title",{staticClass:"white--text subtitle justify-center font-weight-bold  pa-1",style:{backgroundColor:t[Object.keys(t)[0]].color?t[Object.keys(t)[0]].color:e.defaultColor},attrs:{"prepend-icon":"item.icon",dark:""}},[s("v-icon",{staticClass:"mr-2",attrs:{dark:""}},[e._v(e._s(t[Object.keys(t)[0]].icon))]),e._v(" "+e._s(e.$t("App.menu."+t[Object.keys(t)[0]].text))+" ")],1),s("div",{domProps:{innerHTML:e._s(e.renderNestedList(t))}})],1)],1)],1)})),e._l(e.menu,(function(t){return s("v-layout",{key:t.id,staticClass:"item",attrs:{wrap:""}},[s("v-flex",{key:t.id},[s("v-card",{staticClass:"md ma-1 content",attrs:{to:t.url,link:"",rounded:""}},[s("v-card-title",{staticClass:"white--text subtitle justify-center font-weight-bold  pa-1",style:{backgroundColor:e.defaultColor},attrs:{"prepend-icon":t.icon,dark:""}},[s("v-icon",{staticClass:"mr-2",attrs:{dark:""}},[e._v(e._s(e.selectedIcon))]),e._v(" "+e._s(e.$t("App.menu."+t.text))+" ")],1),t.description?s("v-card-text",{staticClass:"text-subtitle-2 text--black font-weight-medium pa-2 ",attrs:{align:"justify"}},[e._v(" "+e._s(e.$t("App.menu."+t.description))+" ")]):s("v-card-text",{staticClass:"text-subtitle-2 text--black font-weight-medium pa-2 ",attrs:{align:"justify"}},[e._v(" "+e._s(e.$t("App.menu."+t.text))+" ")])],1)],1)],1)}))],2)],1)],1):e._e()],1)},Ke=[],Qe=(s(6699),{name:"menu-grid-view",props:["nav"],mounted:function(){this.$nextTick((()=>{this.resizeAllGridItems(),window.addEventListener("resize",this.resizeAllGridItems),this.items=this.$el.getElementsByClassName("item")})),this.updateMenu()},watch:{nav:{handler(){this.updateMenu()},deep:!0}},data:function(){return{menu:[],selectedNav:[],selectedIcon:"",selectedTitle:"",defaultColor:"#0277BD",outputObj:{},nestedNav:[]}},methods:{resizeGridItem(e){const t=this.$el.getElementsByClassName("grid")[0],s=parseInt(getComputedStyle(t).getPropertyValue("grid-auto-rows")),a=parseInt(getComputedStyle(t).getPropertyValue("grid-row-gap")),i=Math.ceil((e.querySelector(".content").getBoundingClientRect().height+a)/(s+a));e.style.gridRowEnd=`span ${i}`},resizeAllGridItems(){this.items=this.$el.getElementsByClassName("item");for(let e=0;e<this.items.length;e++)this.resizeGridItem(this.items[e])},updateMenu:function(){if(this.$route?.params?.id){let e=this.$route?.params?.id;if(this.nav.menu[e]){this.selectedIcon=this.nav.menu[e].icon,this.selectedTitle=this.nav.menu[e].text,this.selectedNav=this.nav.menu[e].menu,this.menu=[];for(let e of Object.keys(this.selectedNav))if(this.selectedNav[e].menu){let t={[e]:this.selectedNav[e]};this.nestedNav.push(this.cloneWithoutMenu(t)),this.recursive(t,"")}else{let t={};t={id:e,text:this.selectedNav[e].text,order:this.selectedNav[e].order,url:this.selectedNav[e].url},this.selectedNav[e]?.description&&(t.description=this.selectedNav[e].description),this.nav.active===e?t.active=!0:t.active=!1,this.menu.push(t)}this.menu.sort(((e,t)=>Number(e.order)===Number(t.order)?0:Number(e.order)<Number(t.order)?-1:1))}else this.$router.push("/")}},recursive:function(e,t){for(let s in e)"object"==typeof e[s]?this.recursive(e[s],t+"_"+s):this.outputObj[t+"_"+s]=e[s]},renderNestedList:function(e){let t=["text","url","order","icon","color"],s='<ul  style=" list-style: none; font-weight: 600 font-size: 0.875rem;line-height: 1.5 text-transform: capitalize">';for(let a in e)e.hasOwnProperty(a)&&(t.includes(a)||(e[a]?.url?s+=`<i aria-hidden="true" class="v-icon notranslate mr-2 blue--text mdi mdi-link"></i><a style="text-decoration: none" @onclick="event.preventDefault();" href="${e[a].url}">`+this.$t(`App.menu.${e[a]?.text}`)+"</a><br>":(s+=`<li class=" text-subtitle-2 text--black font-weight-medium pa-0" style="list-style: none"><i aria-hidden="true" class="v-icon teal--text notranslate mr-2 mdi ${e[a]?.icon}"></i>`+this.$t(`App.menu.${e[a]?.text}`),"object"===typeof e[a]&&(s+=this.renderNestedList(e[a])),s+="</li>")));return s+="</ul>",s},cloneWithoutMenu:function(e){if("object"!==typeof e)return e;let t={};for(let s in e)"menu"!==s&&(t[s]=this.cloneWithoutMenu(e[s]));if(e["menu"])for(let s in e["menu"])"0"!==s&&(t[s]=this.cloneWithoutMenu(e["menu"][s]));return t}}}),Xe=Qe,et=(0,x.Z)(Xe,Je,Ke,!1,null,"b7c380f6",null),tt=et.exports;w()(et,{VCard:N.Z,VCardText:R.ZB,VCardTitle:R.EB,VContainer:je.Z,VFlex:Ue.Z,VIcon:C.Z,VLayout:Ge.Z}),a["default"].use(Ve.Z);const st=[{path:"/",name:"home",components:{default:Se,homeNav:Ye},props:{default:{id:"page-home",blankOnErr:!0}}},{path:"/menu-grid-view/:id",name:"menu-grid-view",components:{default:Se,homeNav:tt},props:{default:{id:"page-grid-view",blankOnErr:!0}}},{path:"/reset-password",name:"reset-password",component:()=>s.e(9564).then(s.bind(s,9553))},{path:"/change-password",name:"change-password",component:()=>s.e(8021).then(s.bind(s,8917))},{path:"/page/blockContacts",name:"mhero",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,6525))},{path:"/page/unblockContacts",name:"mhero",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,9264))},{path:"/page/mhero",name:"mhero",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,8721))},{path:"/page/mhero-scheduled-message",name:"mhero-scheduled-message",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,4284))},{path:"/page/contact-groups",name:"contact-groups",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,2322))},{path:"/page/mhero-reports",name:"mhero-reports-base",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,582))},{path:"/report/:report",name:"reports",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,7479))},{path:"/static/:id",name:"static",component:De},{path:"/page/manage-report",name:"manage-report",component:()=>Promise.all([s.e(3986),s.e(2200),s.e(3113),s.e(2578),s.e(410)]).then(s.bind(s,7060))},{path:"/resource/view/:page/:id",name:"resource_view",component:()=>s.e(4105).then(s.bind(s,7652))},{path:"/resource/search/:page",name:"resource_search",component:()=>s.e(4105).then(s.bind(s,8412))},{path:"/resource/report/:report",name:"resource_report",component:()=>s.e(8983).then(s.bind(s,8275))},{path:"/resource/add/:page",name:"resource_add",component:()=>s.e(8857).then(s.bind(s,121))},{path:"/questionnaire/:questionnaire/:page/:id?",name:"questionnaire",component:()=>s.e(7620).then(s.bind(s,8246))},{path:"/custom/:component",name:"custom_components",component:()=>s.e(7289).then(s.bind(s,7257))},{path:"/ihris-apps-list",name:"ihris-apps-list",component:()=>s.e(8055).then(s.bind(s,2101))},{path:"/ihris-apps-install",name:"ihris-apps-install",component:()=>s.e(3123).then(s.bind(s,3981))},{path:"/ihris-apps-uninstall",name:"ihris-apps-uninstall",component:()=>s.e(8757).then(s.bind(s,6441))},{path:"/dashboard/:id",name:"dashboard",component:()=>Promise.all([s.e(591),s.e(9966)]).then(s.bind(s,2692))},{path:"/bulk-registration",name:"bulk_registration",component:()=>s.e(7620).then(s.bind(s,3502))}],at=new Ve.Z({mode:"history",base:"/",routes:st});var it=at,nt=s(2385),rt=s(3431),ot=s.n(rt),lt=s(9132);a["default"].use(lt.Z);var ct=new lt.Z({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},themes:{light:{primary:{base:"#569fd3",darken1:"0d3552",darken2:"011b2d",lighten1:"ddecf6",lighten2:"f4f7f9"},secondary:{base:"#5f6062",darken1:"04070e",lighten1:"e5e5e5"},accent:"#78496a",error:"#b32317",info:"#005595",success:"#8a8d35",warning:"#d06f1a"}}}}),dt=(s(7147),s(9887)),ut=s.n(dt);s(1703);const ht=s(9887),pt={_code_cache:{},_code_loading:{},_setCache:(e,t)=>(pt._code_cache[e]=t,pt._code_loading[e]=!1,t),checkConstraints:(e,t,s,a,i)=>new Promise(((n,r)=>{let o=e.split(","),l=[];for(let e of o)if(t[e]){let n=ht.evaluate(s,t[e].expression);if(e.startsWith("ihris-search")){let s=n.shift(),r=["_elements=id"];while(n.length)r.push(n.shift()+"="+encodeURI(n.shift()));l.push(new Promise(((n,o)=>{fetch("/fhir/"+s+"?"+r.join("&")).then((s=>{200===s.status?s.json().then((s=>{if(0===s.total)n(!0);else if(i){let r=ht.evaluate(s.entry,"resource.id");r.includes(i)?n(!0):(a.push(t[e].human),n(!1))}else a.push(t[e].human),n(!1)})).catch((e=>{o(e)})):o("Failed to search: "+s.status)})).catch((e=>{o(e)}))})))}else n.every(Boolean)?l.push(!0):(a.push(t[e].human),l.push(!1))}Promise.all(l).then((e=>{e.every(Boolean)?n(!0):n(!1)})).catch((e=>{r(e)}))})),lookup:(e,t)=>e?t?pt.codeLookup(t,e):e.system&&e.code?pt.codeLookup(e.system,e.code):e.reference?pt.resourceLookup(e.reference):/([A-Z]\w*)\/([A-Za-z0-9\-.]{1,64})/.test(e)?pt.resourceLookup(e):new Promise((t=>t(e))):new Promise((t=>t(e))),resourceLookup:e=>new Promise((t=>{let s=e;pt._code_loading[s]?setTimeout((()=>{t(pt.resourceLookup(e))}),200):pt._code_cache[s]?t(pt._code_cache[s]):(pt._code_loading[s]=!0,fetch("/fhir/$short-name?reference="+e).then((a=>{200===a.status?a.json().then((a=>{a.display?t(pt._setCache(s,a.display)):(console.log("No display data from reference found ",s,a),t(pt._setCache(s,e)))})).catch((a=>{console.log(a),t(pt._setCache(s,e))})):(console.log("Invalid status from reference $short-name for ",s),t(pt._setCache(s,e)))})).catch((a=>{console.log(a),t(pt._setCache(s,e))})))})),codeLookup:(e,t,s)=>new Promise((a=>{let i=e+"#"+t;pt._code_loading[i]?setTimeout((()=>{a(pt.codeLookup(e,t,s))}),200):pt._code_cache[i]?a(pt._code_cache[i]):(pt._code_loading[i]=!0,fetch("/fhir/$short-name?system="+e+"&code="+t+"&valuset="+s).then((e=>{200===e.status?e.json().then((e=>{e.display?a(pt._setCache(i,e.display)):(console.log("No display data from codesystem found ",i,e),a(pt._setCache(i,t)))})).catch((e=>{console.log(e),a(pt._setCache(i,t))})):(console.log("Invalid status from codesystem $short-name for ",i),a(pt._setCache(i,t)))})).catch((e=>{console.log(e),a(pt._setCache(i,t))})))})),pathFieldExpression:e=>{let t=e.substring(e.indexOf(":")+1);return t.includes("-")||t.includes(".")?"`"+t+"`":t},expand:e=>{const t=(e,t)=>e.display===t.display?e.code===t.code?0:e.code<t.code?-1:1:e.display<t.display?-1:1,s=(e,t)=>{if(e.compose.include)for(let s of e.compose.include)if(s.concept)for(let e of s.concept)e.system=s.system,t.push(e)};return new Promise(((a,i)=>{let n=e.lastIndexOf("/"),r=e.lastIndexOf("|"),o=e.slice(n+1,-1!==r?r:e.length),l=[];fetch("/fhir/ValueSet/"+o+"/$expand").then((e=>{e.ok?e.json().then((e=>{try{e.expansion&&0!==e.expansion.total||!e.compose.include?l=e.expansion.contains:s(e,l),l.sort(t),a(l)}catch(n){console.log(n),i(new Error("Invalid response from server."))}})).catch((e=>{i(e)})):fetch("/fhir/ValueSet/"+o).then((e=>{e.ok?e.json().then((e=>{s(e,l),l.sort(t),a(l)})).catch((e=>{i(e)})):i(new Error("Invalid response from server."))})).catch((e=>{i(e)}))})).catch((e=>{i(e)}))}))}};var mt=pt;const gt={hasTask:e=>!(!f.state.user.obj.permissions.hasOwnProperty("*")||!f.state.user.obj.permissions["*"]["*"])||f.state.user.obj.permissions&&f.state.user.obj.permissions.special&&f.state.user.obj.permissions.special.special&&f.state.user.obj.permissions.special.special.id&&f.state.user.obj.permissions.special.special.id[e]};var ft=gt;const vt=s(4230);a["default"].config.productionTip=!1,Object.defineProperty(a["default"].prototype,"$fhirpath",{value:ut()}),Object.defineProperty(a["default"].prototype,"$fhirutils",{value:mt}),Object.defineProperty(a["default"].prototype,"$utils",{value:ft}),a["default"].use(s(2513));const bt=new a["default"];a["default"].use(ot(),{eventEmitter:bt,store:f,idleTime:9e5,startAtIdle:!1}),fetch("/config/app").then((e=>{e.json().then((e=>{if(f.state.idp=e.idp,"keycloak"===f.state.idp){let t={realm:e.keycloak.realm,clientId:e.keycloak.UIClientId,url:e.keycloak.baseURL,onLoad:"login-required"},s=nt(t);const i={install(e){e.$keycloak=s}};i.install=e=>{e.$keycloak=s,Object.defineProperties(e.prototype,{$keycloak:{get(){return s}}})},a["default"].use(i),s.init({onLoad:t.onLoad}).then((e=>{e?(window.fetch=vt(fetch,{headers:{Authorization:`Bearer ${s.token}`}}),s.loadUserInfo().then((e=>{let t={resourceType:"Person",id:e.sub,meta:{profile:["http://ihris.org/fhir/StructureDefinition/ihris-person-user"]},name:[{use:"official",text:e.name}],active:!0};e.email&&(t.telecom=[{system:"email",value:e.email}]),fetch("/auth",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((e=>{e.json().then((e=>{c().set("userObj",JSON.stringify(e),"infinity"),new a["default"]({router:it,store:f,i18n:v,vuetify:ct,render:e=>e(Ce)}).$mount("#app")}))})).catch((e=>{console.error(e)}))})),setInterval((()=>{s.updateToken(70)}),6e4)):window.location.reload()})).catch((e=>{console.log(e),alert("Keycloak access failed")}))}else a["default"].prototype.$keycloak=null,new a["default"]({router:it,store:f,vuetify:ct,i18n:v,render:e=>e(Ce)}).$mount("#app")}))}))}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,a,i,n){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],n=e[d][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,i,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var n=Object.create(null);s.r(n);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&a;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},s.d(n,r),n}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,a){return s.f[a](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+({333:"fhir-reference",410:"mhero",902:"fhir-codesystem",1276:"ihris-es-search-term",1364:"fhir-name",2242:"fhir-search",2251:"fhir-main",2269:"fhir-outcome",2657:"fhir-primary",3123:"install-app",4105:"resource",5844:"ihris-es-report",7289:"custom",7305:"fhir-decimal",7620:"questionnaire",7833:"fhir-attachment",8021:"change-password",8055:"apps",8384:"fhir-secondary",8757:"uninstall-app",8857:"resource-add",8926:"fhir-questionnaire",8983:"report",9564:"reset-password",9966:"dashboard"}[e]||e)+"."+{333:"e8296ada",410:"0eeefee6",499:"09cc0553",576:"02748d8d",591:"7f9985f2",728:"3a787933",871:"0f7f5046",902:"b9557b89",1081:"8b50c4c5",1106:"a19c2aba",1276:"9db9289b",1364:"00ecd84e",1719:"37c954f7",2037:"ea27e145",2062:"1e90231f",2200:"d81f219b",2242:"6ca1448c",2251:"eff67868",2269:"f59a592e",2337:"b07e7734",2578:"af56dc68",2657:"f8edb1dc",2890:"701cb642",3011:"0ccb540f",3113:"398fb0f3",3123:"7b77e34c",3475:"4c2cbbb0",3577:"dd116252",3770:"d5e1e3ef",3800:"fe97d9bd",3825:"775b0bba",3986:"1301203b",4105:"7af57d20",4209:"f1890464",4389:"136772b7",4785:"423bdabd",4847:"e23e0315",5118:"a18fa358",5244:"c03d8fea",5358:"5e3a55b2",5374:"47b33cbe",5548:"7a327ee3",5844:"96e514d7",6283:"a9870043",6476:"7076a9a3",6688:"5baa7fa1",6708:"a2d89b4d",7289:"7fa85183",7305:"cfb3189c",7366:"7500f052",7620:"23f957e4",7721:"a5567fd6",7833:"c80be88d",7895:"f4973bff",8021:"9b0cad08",8055:"5b3d4a78",8317:"887a7bd1",8384:"9dcce1f5",8652:"93580050",8757:"b14417a5",8857:"0398f5d8",8926:"aa5ab4ec",8983:"f80d071d",9057:"0d58f0c1",9349:"52e3d06e",9564:"78a30896",9872:"4aa30920",9966:"d0b01b80",9971:"35f0b7c1"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/"+({333:"fhir-reference",410:"mhero",902:"fhir-codesystem",1276:"ihris-es-search-term",2242:"fhir-search",2251:"fhir-main",2657:"fhir-primary",3123:"install-app",5844:"ihris-es-report",7620:"questionnaire",7833:"fhir-attachment",8055:"apps",8384:"fhir-secondary",8757:"uninstall-app",8926:"fhir-questionnaire",9966:"dashboard"}[e]||e)+"."+{333:"6836e398",410:"cc6109cd",728:"81406d6c",871:"e6cde498",902:"023803bb",1106:"52a208fa",1276:"2f4b2262",1719:"e3564ede",2037:"290aab16",2242:"017f40cc",2251:"bfd68946",2657:"5497d9d7",2890:"1e6b27e7",3011:"e6cde498",3113:"fa3bc454",3123:"1fb00c23",3475:"c861ee8a",3577:"d0512e56",3770:"52a208fa",3800:"f4fbe60e",3825:"023803bb",4209:"023803bb",4389:"5072dc54",4785:"ba7bc9a5",4847:"2ab038c0",5118:"79b1cc69",5244:"52a208fa",5358:"e6cde498",5374:"79b1cc69",5844:"8530f835",6476:"51033629",6708:"5cceff45",7366:"5cceff45",7620:"5e1d976c",7833:"3505d4d9",7895:"dc53cb01",8055:"08808948",8317:"52a208fa",8384:"3505d4d9",8757:"08808948",8926:"4ea949ce",9349:"52a208fa",9872:"c337761b",9966:"80e5f493",9971:"e8544985"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="iHRIS-v5:";s.l=function(a,i,n,r){if(e[a])e[a].push(i);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+n){o=u;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+n),o.src=a),e[a]=[i];var h=function(t,s){o.onerror=o.onload=null,clearTimeout(p);var i=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e=function(e,t,s,a){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var n=function(n){if(i.onerror=i.onload=null,"load"===n.type)s();else{var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,i.parentNode.removeChild(i),a(l)}};return i.onerror=i.onload=n,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var i=s[a],n=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===e||n===t))return i}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){i=r[a],n=i.getAttribute("data-href");if(n===e||n===t)return i}},a=function(a){return new Promise((function(i,n){var r=s.miniCssF(a),o=s.p+r;if(t(r,o))return i();e(a,o,i,n)}))},i={2143:0};s.f.miniCss=function(e,t){var s={333:1,410:1,728:1,871:1,902:1,1106:1,1276:1,1719:1,2037:1,2242:1,2251:1,2657:1,2890:1,3011:1,3113:1,3123:1,3475:1,3577:1,3770:1,3800:1,3825:1,4209:1,4389:1,4785:1,4847:1,5118:1,5244:1,5358:1,5374:1,5844:1,6476:1,6708:1,7366:1,7620:1,7833:1,7895:1,8055:1,8317:1,8384:1,8757:1,8926:1,9349:1,9872:1,9966:1,9971:1};i[e]?t.push(i[e]):0!==i[e]&&s[e]&&t.push(i[e]=a(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={2143:0};s.f.j=function(t,a){var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else if(333!=t){var n=new Promise((function(s,a){i=e[t]=[s,a]}));a.push(i[2]=n);var r=s.p+s.u(t),o=new Error,l=function(a){if(s.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,i[1](o)}};s.l(r,l,"chunk-"+t,t)}else e[t]=0},s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,n,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(l)var d=l(s)}for(t&&t(a);c<r.length;c++)n=r[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},a=self["webpackChunkiHRIS_v5"]=self["webpackChunkiHRIS_v5"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[4998],(function(){return s(8247)}));a=s.O(a)})();
//# sourceMappingURL=app.d07c97aa.js.map