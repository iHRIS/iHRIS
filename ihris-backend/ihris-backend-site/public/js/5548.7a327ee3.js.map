{"version":3,"file":"js/5548.7a327ee3.js","mappings":"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","sources":["webpack://iHRIS-v5/./src/site/view/changepassword.vue?2a25","webpack://iHRIS-v5/src/site/view/changepassword.vue","webpack://iHRIS-v5/./src/site/view/changepassword.vue?a7b6","webpack://iHRIS-v5/./src/site/view/changepassword.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-xs\":\"\"}},[_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"size\":\"50\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.overlay = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card',{staticClass:\"mx-auto\",attrs:{\"max-width\":\"700\",\"outlined\":\"\"}},[_c('v-card-title',{staticClass:\"primary darken-1 white--text text-uppercase font-weight-bold\"},[_vm._v(\" Change Password \")]),_c('v-card-text',{staticClass:\"my-3\"},[_c('v-container',[_c('v-text-field',{attrs:{\"label\":\"Current Password\",\"outlined\":\"\",\"hide-details\":\"auto\",\"type\":_vm.showCurrentPassword ? 'text' : 'password',\"append-icon\":_vm.showCurrentPassword ? 'mdi-eye' : 'mdi-eye-off',\"dense\":\"\"},on:{\"click:append\":function($event){_vm.showCurrentPassword = !_vm.showCurrentPassword}},model:{value:(_vm.current),callback:function ($$v) {_vm.current=$$v},expression:\"current\"}})],1),_c('v-container',[_c('v-text-field',{attrs:{\"label\":\"New Password\",\"outlined\":\"\",\"hide-details\":\"auto\",\"type\":_vm.showNew1Password ? 'text' : 'password',\"append-icon\":_vm.showNew1Password ? 'mdi-eye' : 'mdi-eye-off',\"dense\":\"\"},on:{\"click:append\":function($event){_vm.showNew1Password = !_vm.showNew1Password}},model:{value:(_vm.new1),callback:function ($$v) {_vm.new1=$$v},expression:\"new1\"}})],1),_c('v-container',[_c('v-text-field',{attrs:{\"label\":\"Confirm New Password\",\"outlined\":\"\",\"hide-details\":\"auto\",\"type\":_vm.showNew2Password ? 'text' : 'password',\"append-icon\":_vm.showNew2Password ? 'mdi-eye' : 'mdi-eye-off',\"dense\":\"\"},on:{\"click:append\":function($event){_vm.showNew2Password = !_vm.showNew2Password}},model:{value:(_vm.new2),callback:function ($$v) {_vm.new2=$$v},expression:\"new2\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\",\"disabled\":_vm.new1!=_vm.new2 || !_vm.current || !_vm.new1 || !_vm.new2},on:{\"click\":_vm.change}},[_vm._v(\"Change\")])],1)],1),_c('v-snackbar',{staticClass:\"align-content-lg-space-between\",attrs:{\"absolute\":_vm.absolute,\"color\":\"secondary\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"color\":\"warning\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\"Close\")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container grid-list-xs>\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular\n          color=\"primary\"\n          indeterminate\n          size=\"50\"\n      ></v-progress-circular>\n      <v-btn icon @click=\"overlay = false\">\n        <v-icon>mdi-close</v-icon>\n      </v-btn>\n    </v-overlay>\n    <v-card \n      class=\"mx-auto\"\n      max-width=\"700\"\n      outlined\n    >\n      <v-card-title class=\"primary darken-1 white--text text-uppercase font-weight-bold\">\n        Change Password\n      </v-card-title>\n      <v-card-text class=\"my-3\">\n        <v-container>\n          <v-text-field\n            label=\"Current Password\"\n            v-model=\"current\"\n            outlined\n            hide-details=\"auto\"\n            :type=\"showCurrentPassword ? 'text' : 'password'\"\n            :append-icon=\"showCurrentPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n            @click:append=\"showCurrentPassword = !showCurrentPassword\"\n            dense\n          />\n        </v-container>\n        <v-container>\n          <v-text-field\n            label=\"New Password\"\n            v-model=\"new1\"\n            outlined\n            hide-details=\"auto\"\n            :type=\"showNew1Password ? 'text' : 'password'\"\n            :append-icon=\"showNew1Password ? 'mdi-eye' : 'mdi-eye-off'\"\n            @click:append=\"showNew1Password = !showNew1Password\"\n            dense\n          />\n        </v-container>\n        <v-container>\n          <v-text-field\n            label=\"Confirm New Password\"\n            v-model=\"new2\"\n            outlined\n            hide-details=\"auto\"\n            :type=\"showNew2Password ? 'text' : 'password'\"\n            :append-icon=\"showNew2Password ? 'mdi-eye' : 'mdi-eye-off'\"\n            @click:append=\"showNew2Password = !showNew2Password\"\n            dense\n          />\n        </v-container>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn color=\"success\" :disabled=\"new1!=new2 || !current || !new1 || !new2\" @click=\"change\">Change</v-btn>\n      </v-card-actions>\n    </v-card>\n    <v-snackbar\n        v-model=\"snackbar\"\n        :absolute=\"absolute\"\n        color=\"secondary\"\n        class=\"align-content-lg-space-between\"\n    >\n      {{ message }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn  v-bind=\"attrs\" color=\"warning\" text @click=\"snackbar = false\"\n        >Close</v-btn>\n      </template>\n    </v-snackbar>\n  </v-container>\n</template>\n<script>\nexport default {\n  props: [\"queries\"],\n  data() {\n    return {\n      absolute: true,\n      snackbar: false,\n      message: \"\",\n      overlay: false,\n      showCurrentPassword: false,\n      showNew1Password: false,\n      showNew2Password: false,\n      current: '',\n      new1: '',\n      new2: ''\n    }\n  },\n  methods: {\n    change() {\n      if(this.new1.length < 8) {\n        this.message = \"Password length must be atleast 8 characters\"\n        this.snackbar = true\n        return\n      }\n      this.overlay = true;\n      let body = {\n        currentPassword: this.current,\n        newPassword: this.new1\n      }\n      fetch(\"/site/user/change-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        redirect: \"manual\",\n        body: JSON.stringify(body),\n      }).then((response) => {\n        this.overlay = false;\n        if(response.status === 200) {\n          this.$store.commit(\"setMessage\", {\n            type: \"success\",\n            text: \"Password Changed\",\n          });\n          setTimeout(() => {\n            fetch(\"/auth/logout\").then(() => {\n              this.loading = false\n              this.$store.commit('logout')\n              this.$emit('loggedout')\n              // this.$store.commit('setMessage', { type: 'success', text: this.$t('App.hardcoded-texts.You have logged out.') } )\n              this.$router.push( {path: \"/\" } )\n            })\n          }, 800)\n        } else {\n          response.json().then((data) => {\n            this.$store.commit(\"setMessage\", {\n              type: \"error\",\n              text: data.message\n            });\n          })\n        }\n      }).catch(() => {\n        this.$store.commit(\"setMessage\", {\n          type: \"error\",\n          text: \"Failed to change password.\"\n        });\n      })\n    }\n  },\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./changepassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./changepassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changepassword.vue?vue&type=template&id=356b3525&\"\nimport script from \"./changepassword.vue?vue&type=script&lang=js&\"\nexport * from \"./changepassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VIcon,VOverlay,VProgressCircular,VSnackbar,VSpacer,VTextField})\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","overlay","on","$event","_v","staticClass","showCurrentPassword","model","value","callback","$$v","current","expression","showNew1Password","new1","showNew2Password","new2","change","absolute","scopedSlots","_u","key","fn","ref","_b","snackbar","_s","message","staticRenderFns","props","data","methods","currentPassword","newPassword","fetch","method","headers","redirect","body","then","response","type","text","setTimeout","path","catch","component","VBtn"],"sourceRoot":""}