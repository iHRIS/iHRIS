{"version":3,"file":"js/6703.63fb4904.js","mappings":"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","sources":["webpack://iHRIS-v5/../../../src/components/VSubheader/VSubheader.ts","webpack://iHRIS-v5/./src/site/itsf/registration_view.vue?9745","webpack://iHRIS-v5/src/site/itsf/registration_view.vue","webpack://iHRIS-v5/./src/site/itsf/registration_view.vue?96ac","webpack://iHRIS-v5/./src/site/itsf/registration_view.vue"],"sourcesContent":["// Styles\nimport './VSubheader.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nexport default mixins(\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-subheader',\n\n  props: {\n    inset: Boolean,\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-subheader',\n      class: {\n        'v-subheader--inset': this.inset,\n        ...this.themeClasses,\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n    }, this.$slots.default)\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mt-4\"},[_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"size\":\"50\"}})],1),_c('v-navigation-drawer',{staticClass:\"primary darken-1 white--text\",staticStyle:{\"z-index\":\"3\"},attrs:{\"app\":\"\",\"clipped\":\"\",\"permanent\":\"\",\"right\":\"\"}},[_c('v-list',{staticClass:\"white--text\"},[_c('v-list-item',[_c('v-btn',{staticClass:\"primary\",attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/resource/view/student/' + _vm.queries.practitioner)}}},[_c('v-icon',{attrs:{\"light\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-eye\")]),_c('span',[_vm._v(\"View Student\")])],1)],1),_c('v-list-item',[_c('v-btn',{staticClass:\"success\",attrs:{\"disabled\":!_vm.canFinanceReview,\"dark\":\"\"},on:{\"click\":function($event){_vm.approvalDialog = true}}},[_c('v-icon',{attrs:{\"light\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-check-decagram\")]),_c('span',[_vm._v(\"Finance Director Review\")])],1)],1),_c('v-list-item',[_c('v-btn',{staticClass:\"success\",attrs:{\"disabled\":!_vm.canTaalimReview,\"dark\":\"\"},on:{\"click\":function($event){_vm.approvalDialog = true}}},[_c('v-icon',{attrs:{\"light\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-check-decagram\")]),_c('span',[_vm._v(\"Taalim Director Review\")])],1)],1),_c('v-list-item',[_c('v-btn',{staticClass:\"success\",attrs:{\"disabled\":!_vm.hasTask('can-edit-registration'),\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/custom/edit_registration?path=/itsf&id=' + _vm.queries.role + '&practitioner=' + _vm.queries.practitioner)}}},[_c('v-icon',{attrs:{\"light\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-eye\")]),_c('span',[_vm._v(\"Edit\")])],1)],1),_c('v-list-item',[_c('v-btn',{staticClass:\"success\",attrs:{\"disabled\":!_vm.canPrintId,\"dark\":\"\"},on:{\"click\":_vm.printid}},[_c('v-icon',{attrs:{\"light\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-eye\")]),_c('span',[_vm._v(\"Print ID\")])],1)],1),_c('v-list-item',[_c('v-btn',{staticClass:\"success\",attrs:{\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/questionnaire/itsf-school-fees-payments/feespayments?practitionerrole=' + _vm.queries.role)}}},[_c('v-icon',{attrs:{\"light\":\"\",\"left\":\"\"}},[_vm._v(\"mdi-contactless-payment-circle-outline\")]),_c('span',[_vm._v(\"Pay Fees\")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\",\"transition\":\"dialog-transition\"},model:{value:(_vm.approvalDialog),callback:function ($$v) {_vm.approvalDialog=$$v},expression:\"approvalDialog\"}},[_c('v-card',[_c('v-toolbar',{staticClass:\"darken-1 white--text text-uppercase font-weight-bold\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_vm._v(\" Approve/Reject Registration \"),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"white\"},on:{\"click\":function($event){_vm.approvalDialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_c('v-select',{staticClass:\"ma-2\",attrs:{\"items\":_vm.statuses,\"label\":\"Status\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\",\"clearable\":\"\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"success\",\"disabled\":!_vm.status},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)],1)],1),_c('fhir-page-view',{attrs:{\"id\":_vm.queries.role,\"page\":\"practitionerrole\",\"showDrawer\":false},on:{\"templates-loaded\":_vm.registrationPageLoaded}}),_c('v-row',[_vm._l((_vm.payments),function(payment,index){return _c('v-col',{key:index,attrs:{\"cols\":\"12\"}},[_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.$router.push('/custom/edit_fees?path=/itsf&id=' + payment + '&practitioner=' + _vm.queries.practitioner + '&role=' + _vm.queries.role)}}},[_vm._v(\"Edit Below Fee\")]),(_vm.rows[payment])?_c('fhir-page-view',{attrs:{\"id\":payment,\"page\":\"feespayments\",\"showDrawer\":false},on:{\"templates-loaded\":function($event){return _vm.feesTemplateLoaded(index)}}}):_vm._e()],1)}),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.financeReviewPage)?_c('fhir-page-view',{attrs:{\"id\":_vm.financeReviewId,\"page\":\"finance-review\",\"showDrawer\":false},on:{\"templates-loaded\":function($event){_vm.taalimReviewPage = true}}}):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.taalimReviewPage)?_c('fhir-page-view',{attrs:{\"id\":_vm.taalimReviewId,\"page\":\"taalim-review\",\"showDrawer\":false}}):_vm._e()],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"mt-4\">\n    <v-overlay :value=\"overlay\">\n      <v-progress-circular\n          color=\"primary\"\n          indeterminate\n          size=\"50\"\n      ></v-progress-circular>\n    </v-overlay>\n    <v-navigation-drawer\n      app\n      class=\"primary darken-1 white--text\"\n      clipped\n      permanent\n      right\n      style=\"z-index: 3;\"\n    >\n      <v-list class=\"white--text\">\n        <v-list-item>\n          <v-btn class=\"primary\" dark @click=\"$router.push('/resource/view/student/' + queries.practitioner)\">\n            <v-icon light left>mdi-eye</v-icon>\n            <span>View Student</span>\n          </v-btn>\n        </v-list-item>\n        <v-list-item>\n          <v-btn :disabled=\"!canFinanceReview\" class=\"success\" dark @click=\"approvalDialog = true\">\n            <v-icon light left>mdi-check-decagram</v-icon>\n            <span>Finance Director Review</span>\n          </v-btn>\n        </v-list-item>\n        <v-list-item>\n          <v-btn :disabled=\"!canTaalimReview\" class=\"success\" dark @click=\"approvalDialog = true\">\n            <v-icon light left>mdi-check-decagram</v-icon>\n            <span>Taalim Director Review</span>\n          </v-btn>\n        </v-list-item>\n        <v-list-item>\n          <v-btn :disabled=\"!hasTask('can-edit-registration')\" class=\"success\" dark @click=\"$router.push('/custom/edit_registration?path=/itsf&id=' + queries.role + '&practitioner=' + queries.practitioner)\">\n            <v-icon light left>mdi-eye</v-icon>\n            <span>Edit</span>\n          </v-btn>\n        </v-list-item>\n        <v-list-item>\n          <v-btn :disabled='!canPrintId' class=\"success\" dark @click=\"printid\">\n            <v-icon light left>mdi-eye</v-icon>\n            <span>Print ID</span>\n          </v-btn>\n        </v-list-item>\n        <v-list-item>\n          <v-btn class=\"success\" dark @click=\"$router.push('/questionnaire/itsf-school-fees-payments/feespayments?practitionerrole=' + queries.role)\">\n            <v-icon light left>mdi-contactless-payment-circle-outline</v-icon>\n            <span>Pay Fees</span>\n          </v-btn>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n    <v-dialog\n      v-model=\"approvalDialog\"\n      persistent\n      max-width=\"500px\"\n      transition=\"dialog-transition\"\n    >\n      <v-card>\n        <v-toolbar color=\"primary\" class=\"darken-1 white--text text-uppercase font-weight-bold\" dark>\n          Approve/Reject Registration\n          <v-spacer></v-spacer>\n          <v-btn icon color=\"white\" @click=\"approvalDialog = false\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <v-card-text>\n          <v-select\n            :items=\"statuses\"\n            v-model=\"status\"\n            label=\"Status\"\n            outlined\n            dense\n            class=\"ma-2\"\n            hide-details\n            clearable\n          ></v-select>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"success\" :disabled=\"!status\" @click=\"save\">Save</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <fhir-page-view :id=\"queries.role\" page=\"practitionerrole\" @templates-loaded=\"registrationPageLoaded\" :showDrawer=\"false\" />\n    <v-row>\n      <v-col v-for=\"(payment, index) in payments\" :key=\"index\" cols=\"12\">\n        <v-btn color=\"success\" @click=\"$router.push('/custom/edit_fees?path=/itsf&id=' + payment + '&practitioner=' + queries.practitioner + '&role=' + queries.role)\">Edit Below Fee</v-btn>\n        <fhir-page-view v-if=\"rows[payment]\" :id=\"payment\" page=\"feespayments\" :showDrawer=\"false\" @templates-loaded=\"feesTemplateLoaded(index)\" />\n      </v-col>\n      <v-col cols=\"12\">\n        <fhir-page-view v-if=\"financeReviewPage\" :id=\"financeReviewId\" page=\"finance-review\" :showDrawer=\"false\" @templates-loaded=\"taalimReviewPage = true\" />\n      </v-col>\n      <v-col cols=\"12\">\n        <fhir-page-view v-if=\"taalimReviewPage\" :id=\"taalimReviewId\" page=\"taalim-review\" :showDrawer=\"false\" />\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  props: [\"queries\"],\n  data: function() {\n    return {\n      financeReview: {},\n      taalimReview: {},\n      taalimReviewId: \"\",\n      financeReviewId: \"\",\n      taalimReviewPage: false,\n      financeReviewPage: false,\n      statusText: \"\",\n      status: \"\",\n      regStatus: \"\",\n      statuses: [{\n        text: \"Approve\",\n        value: \"approved\"\n      }, {\n        text: \"Reject\",\n        value: \"rejected\"\n      }, {\n        text: \"Pending\",\n        value: \"pending\"\n      }],\n      displaySecond: false,\n      payments: [],\n      approvalDialog: false,\n      rows: {\n        fake: false\n      },\n      overlay: false,\n      familyHeadInactive: true,\n      registrationDisplayed: false\n    }\n  },\n  computed: {\n    role() {\n      let role = this.$store.state.user.obj.resource.extension.find((ext) => {\n        return ext.url === 'http://ihris.org/fhir/StructureDefinition/ihris-assign-role'\n      }).valueReference.reference\n      return role.split(\"/\")[1]\n    },\n    canApprove() {\n      if(!this.familyHeadInactive && this.regStatus != 'approved') {\n        return true\n      }\n      return false\n    },\n    canFinanceReview() {\n      if(!this.familyHeadInactive && this.financeReview.code != 'approved' && this.role === 'itsf-admin-finance-role') {\n        return true\n      }\n      return false\n    },\n    canTaalimReview() {\n      if(!this.familyHeadInactive && this.financeReview.code == 'approved' && this.taalimReview.code !== 'approved' && this.role === 'itsf-taalim-role') {\n        return true\n      }\n      return false\n    },\n    canPrintId() {\n      if(this.financeReview.code == 'approved' && this.taalimReview.code === 'approved' && this.role === 'itsf-id-card-manager') {\n        return true\n      }\n      return false\n    }\n  },\n  methods: {\n    registrationPageLoaded() {\n      if(this.rows[this.payments[0]]) {\n        this.rows[this.payments[0]] = true\n      }\n      this.registrationDisplayed = true\n    },\n    feesTemplateLoaded(index) {\n      if(this.payments.length == 1) {\n        this.financeReviewPage = true\n      } else if(this.payments.length === index+1) {\n        this.financeReviewPage = true\n      } else {\n        this.rows[this.payments[index+1]] = true\n      }\n    },\n    getPayment() {\n      return new Promise((resolve) => {\n        fetch(\"/fhir/Basic?_elements=id&registrationfeespayment=PractitionerRole/\" + this.queries.role).then((response) => {\n          response.json().then((response) => {\n            if(response.entry) {\n              for(let entry of response.entry) {\n                this.payments.push(entry.resource.id)\n                this.$set(this.rows, entry.resource.id, false)\n              }\n              if(this.registrationDisplayed) {\n                this.rows[this.payments[0]] = true\n              }\n            }\n            resolve()\n          }).catch(() => {\n            resolve()\n          })\n        }).catch(() => {\n          resolve()\n        })\n      })\n    },\n    getReviewStatuses() {\n      return new Promise((resolve) => {\n        fetch(\"/fhir/Basic?registrationreference=PractitionerRole/\" + this.queries.role + \"&_profile=http://ihris.org/fhir/StructureDefinition/taalim-registration-review-profile,http://ihris.org/fhir/StructureDefinition/finance-registration-review-profile\").then((response) => {\n          response.json().then((response) => {\n            let finance = response.entry.find((entry) => {\n              return entry.resource.meta.profile.includes(\"http://ihris.org/fhir/StructureDefinition/finance-registration-review-profile\")\n            })\n            let taalim = response.entry.find((entry) => {\n              return entry.resource.meta.profile.includes(\"http://ihris.org/fhir/StructureDefinition/taalim-registration-review-profile\")\n            })\n            if(finance) {\n              this.financeReviewId = finance.resource.id\n              this.financeReview = finance.resource.extension.find((ext) => {\n                return ext.url === \"http://ihris.org/fhir/StructureDefinition/registration-status\"\n              })?.valueCoding\n            }\n            if(taalim) {\n              this.taalimReviewId = taalim.resource.id\n              this.taalimReview = taalim.resource.extension.find((ext) => {\n                return ext.url === \"http://ihris.org/fhir/StructureDefinition/registration-status\"\n              })?.valueCoding\n            }\n            if(!this.familyHeadInactive && this.financeReview.code != 'approved') {\n              this.status = this.financeReview.code\n            } else if(this.financeReview.code === 'pending') {\n              this.statusText = \"Waiting Finance Director Approval\"\n            }\n            if(!this.familyHeadInactive && this.financeReview.code == 'approved' && this.taalimReview.code !== 'approved') {\n              this.status = this.taalimReview.code\n            } else if(this.taalimReview.code === 'pending') {\n              this.statusText = \"Waiting Finance Director Approval\"\n            }\n            this.regStatus = this.status\n            resolve()\n          }).catch(() => {\n            resolve()\n          })\n        }).catch(() => {\n          resolve()\n        })\n      })\n    },\n    getFamilyHead() {\n      return new Promise((resolve) => {\n        let url = \"/fhir/Basic?_profile=http://ihris.org/fhir/StructureDefinition/itsf-family-head-profile&practitioner=Practitioner/\" + this.queries.practitioner + \"&familymemberactive=yes\"\n        fetch(url).then((response) => {\n          response.json().then((response) => {\n            if(response.entry) {\n              let head = response.entry[0].resource.extension.find((ext) => {\n                return ext.url === \"http://ihris.org/fhir/StructureDefinition/family-head\"\n              })?.valueReference?.reference\n              if(head) {\n                let body = {\n                  resource: \"PractitionerRole\",\n                  params: {\n                    practitioner: \"Practitioner/\" + head.split(\"/\")[1]\n                  }\n                }\n                fetch(\"/site/student/getLatestResourceById/\", {\n                  method: \"POST\",\n                  headers: {\n                    \"Content-Type\": \"application/json\",\n                  },\n                  redirect: \"manual\",\n                  body: JSON.stringify(body),\n                }).then((response) => {\n                  if(response.ok) {\n                    response.json().then((response) => {\n                      if(response.entry.length) {\n                        let regStatus = response.entry[0].resource.extension.find((ext) => {\n                          return ext.url === \"http://ihris.org/fhir/StructureDefinition/registration-status\"\n                        })?.valueCoding?.code\n                        if(regStatus !== 'approved') {\n                          this.familyHeadInactive = true\n                        } else {\n                          this.familyHeadInactive = false\n                        }\n                      }\n                    })\n                  } else {\n                    this.familyHeadInactive = true\n                  }\n                })\n              }\n            } else {\n              this.familyHeadInactive = false\n            }\n            resolve()\n          }).catch(() => {\n            resolve()\n          })\n        }).catch(() => {\n          resolve()\n        })\n      })\n    },\n    save() {\n      let body = {\n        status: this.status,\n        practitionerrole: this.queries.role,\n        practitioner: this.queries.practitioner,\n        role: this.role\n      }\n      fetch(\"/site/student/registration_approval\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        redirect: \"manual\",\n        body: JSON.stringify(body),\n      }).then((response) => {\n        if(response.ok) {\n          this.$store.commit(\"setMessage\", {\n            type: \"success\",\n            text: \"Registration Processed Successfully\",\n          });\n          this.$router.push('/resource/view/student/' + this.queries.practitioner)\n        } else {\n          this.$store.commit(\"setMessage\", {\n            type: \"error\",\n            text: \"Failed to process registration\",\n          });\n        }\n      })\n    },\n    printid() {\n      this.overlay = true\n      fetch(\"/site/student/printId/\" + this.queries.practitioner).then((response) =>{\n        response.blob().then((blob) => {\n          fetch(\"/fhir/Practitioner/\" + this.queries.practitioner).then((response) => {\n            response.json().then((pract) => {\n              this.overlay = false\n              let fullname = \"\"\n              let name = pract.name.find((nm) => {\n                nm.use === \"official\"\n              })\n              if(!name && pract.name && pract.name.length > 0) {\n                name = pract.name[0]\n              }\n              if(name) {\n                if(name.given) {\n                  if(fullname) {\n                    fullname += \" \"\n                  }\n                  fullname += name.given.join(\" \")\n                }\n                if(name.family) {\n                  if(fullname) {\n                    fullname += \" \"\n                  }\n                  fullname += name.family\n                }\n              }\n              let link = document.createElement(\"a\");\n              link.href = window.URL.createObjectURL(blob);\n              link.download = `${fullname}.pdf`;\n              link.click();\n            }).catch(() => {\n              this.overlay = false\n            })\n          }).catch(() => {\n              this.overlay = false\n            })\n        }).catch(() => {\n          this.overlay = false\n        })\n      }).catch(() => {\n        this.overlay = false\n      })\n    },\n    hasTask(task) {\n      return this.$store.state.user.obj.permissions && this.$store.state.user.obj.permissions.special && this.$store.state.user.obj.permissions.special.special && this.$store.state.user.obj.permissions.special.special.id && this.$store.state.user.obj.permissions.special.special.id[task]\n    }\n  },\n  created() {\n    this.overlay = true\n    Promise.all([this.getPayment(), this.getFamilyHead(), this.getReviewStatuses()]).then(() => {\n      this.overlay = false\n    })\n  },\n  components: {\n    \"fhir-page-view\": () => import(\"@/views/fhir-page-view\")\n  },\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./registration_view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./registration_view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./registration_view.vue?vue&type=template&id=07e5103f&\"\nimport script from \"./registration_view.vue?vue&type=script&lang=js&\"\nexport * from \"./registration_view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VDialog,VIcon,VList,VListItem,VNavigationDrawer,VOverlay,VProgressCircular,VRow,VSelect,VSpacer,VToolbar})\n"],"names":["mixins","Themeable","extend","name","props","inset","Boolean","render","h","staticClass","class","this","themeClasses","attrs","$attrs","on","$listeners","$slots","default","_vm","_h","$createElement","_c","_self","overlay","staticStyle","$event","$router","push","queries","practitioner","_v","canFinanceReview","approvalDialog","canTaalimReview","hasTask","role","canPrintId","printid","model","value","callback","$$v","expression","statuses","status","save","registrationPageLoaded","_l","payment","index","key","rows","feesTemplateLoaded","_e","financeReviewId","taalimReviewPage","taalimReviewId","staticRenderFns","data","financeReview","taalimReview","financeReviewPage","statusText","regStatus","text","displaySecond","payments","fake","familyHeadInactive","registrationDisplayed","computed","valueReference","reference","canApprove","methods","getPayment","fetch","response","resolve","catch","getReviewStatuses","valueCoding","getFamilyHead","resource","params","method","headers","redirect","body","then","code","practitionerrole","type","nm","fullname","link","created","Promise","components","component","VBtn"],"sourceRoot":""}