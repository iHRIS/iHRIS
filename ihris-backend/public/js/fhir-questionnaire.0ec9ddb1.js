(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fhir-questionnaire"],{"0bc6":function(t,e,i){},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("d3b7"),i("e6cf");function r(t,e,i,r,n,a,s){try{var o=t[a](s),c=o.value}catch(h){return void i(h)}o.done?e(c):Promise.resolve(c).then(r,n)}function n(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var s=t.apply(e,i);function o(t){r(s,n,a,o,c,"next",t)}function c(t){r(s,n,a,o,c,"throw",t)}o(void 0)}))}}},"36a7":function(t,e,i){},4983:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ihris-section",attrs:{id:"section-"+t.id}},[i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[i("v-card-title",{staticClass:"primary darken-1 white--text text-uppercase font-weight-bold"},[t._v(t._s(t.label))]),t._l(t.errors,(function(e,r){return i("v-card-text",{key:r,staticClass:"error white--text font-weight-bold"},[t._v(t._s(e))])})),i("v-card-text",{staticClass:"my-3"},[t._t("default")],2)],2)],1)},n=[],a={name:"ihris-questionnaire-section",props:["id","label","description","path","constraints"],data:function(){return{isQuestionnaireGroup:!0,errors:[]}}},s=a,o=i("2877"),c=i("6544"),h=i.n(c),u=i("b0af"),l=i("99d9"),d=Object(o["a"])(s,r,n,!1,null,null,null);e["default"]=d.exports;h()(d,{VCard:u["a"],VCardText:l["c"],VCardTitle:l["d"]})},"4bd4":function(t,e,i){"use strict";i("4de4"),i("7db0"),i("4160"),i("caad"),i("07ac"),i("2532"),i("159b");var r=i("5530"),n=i("58df"),a=i("7e2b"),s=i("3206");e["a"]=Object(n["a"])(a["a"],Object(s["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",(function(i){e.$set(e.errorBag,t._uid,i)}),{immediate:!0})},r={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=t.$watch("shouldValidate",(function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(r.valid=i(t)))})):r.valid=i(t),r},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var i=this.watchers.find((function(t){return t._uid===e._uid}));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(r["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},5105:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"d-none"},[i("v-text-field",{attrs:{readonly:"","hide-details":"",dense:"",disabled:""},model:{value:t.hiddenValue,callback:function(e){t.hiddenValue=e},expression:"hiddenValue"}})],1)},n=[],a={name:"ihris-hidden",props:["label","path","hiddenType","hiddenValue"],data:function(){return{qField:"value"+this.hiddenType,value:this.hiddenValue}}},s=a,o=i("2877"),c=i("6544"),h=i.n(c),u=i("8654"),l=Object(o["a"])(s,r,n,!1,null,null,null);e["default"]=l.exports;h()(l,{VTextField:u["a"]})},6062:function(t,e,i){"use strict";var r=i("6d61"),n=i("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},7958:function(t,e,i){},8238:function(t,e,i){},"8efc":function(t,e,i){},"96cf":function(t,e,i){var r=function(t){"use strict";var e,i=Object.prototype,r=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function c(t,e,i,r){var n=e&&e.prototype instanceof v?e:v,a=Object.create(n.prototype),s=new V(r||[]);return a._invoke=k(t,i,s),a}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(r){return{type:"throw",arg:r}}}t.wrap=c;var u="suspendedStart",l="suspendedYield",d="executing",f="completed",p={};function v(){}function m(){}function g(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(E([])));w&&w!==i&&r.call(w,a)&&(y=w);var x=g.prototype=v.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t,e){function i(n,a,s,o){var c=h(t[n],t,a);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,s,o)}),(function(t){i("throw",t,s,o)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,o)}))}o(c.arg)}var n;function a(t,r){function a(){return new e((function(e,n){i(t,r,e,n)}))}return n=n?n.then(a,a):a()}this._invoke=a}function k(t,e,i){var r=u;return function(n,a){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===n)throw a;return A()}i.method=n,i.arg=a;while(1){var s=i.delegate;if(s){var o=$(s,i);if(o){if(o===p)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===u)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=d;var c=h(t,e,i);if("normal"===c.type){if(r=i.done?f:l,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=f,i.method="throw",i.arg=c.arg)}}}function $(t,i){var r=t.iterator[i.method];if(r===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,$(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=h(r,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,p;var a=n.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,p):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function V(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function E(t){if(t){var i=t[a];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,s=function i(){while(++n<t.length)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=x.constructor=g,g.constructor=m,g[o]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(S.prototype),S.prototype[s]=function(){return this},t.AsyncIterator=S,t.async=function(e,i,r,n,a){void 0===a&&(a=Promise);var s=new S(c(e,i,r,n),a);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},_(x),x[o]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=E,V.prototype={constructor:V,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(r,n){return o.type="throw",o.arg=t,i.next=r,n&&(i.method="next",i.arg=e),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),h=r.call(s,"finallyLoc");if(c&&h){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;O(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:E(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(n){Function("r","regeneratorRuntime = r")(r)}},adda:function(t,e,i){"use strict";i("a15b"),i("a9e3"),i("8efc");var r=i("90a2"),n=(i("36a7"),i("24b2")),a=i("58df"),s=Object(a["a"])(n["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number]},computed:{computedAspectRatio:function(){return Number(this.aspectRatio)},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content"},this.$slots.default)}},render:function(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),o=s,c=i("d9bd"),h="undefined"!==typeof window&&"IntersectionObserver"in window;e["a"]=o.extend({name:"v-img",directives:{intersect:r["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0}},computed:{computedAspectRatio:function(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc:function(){return"string"===typeof this.src?{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}:{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}},__cachedImage:function(){if(!this.normalisedSrc.src&&!this.normalisedSrc.lazySrc)return[];var t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push("linear-gradient(".concat(this.gradient,")")),e&&t.push('url("'.concat(e,'")'));var i=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[i]):i}},watch:{src:function(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(t,e,i){if(!h||i||this.eager){if(this.normalisedSrc.lazySrc){var r=new Image;r.src=this.normalisedSrc.lazySrc,this.pollForSize(r,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src)},onError:function(){Object(c["b"])("Image load failed\n\n"+"src: ".concat(this.normalisedSrc.src),this),this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var t=this,e=new Image;this.image=e,e.onload=function(){e.decode?e.decode().catch((function(e){Object(c["c"])("Failed to decode image, trying to render anyway\n\n"+"src: ".concat(t.normalisedSrc.src)+(e.message?"\nOriginal error: ".concat(e.message):""),t)})).then(t.onLoad):t.onLoad()},e.onerror=this.onError,e.src=this.normalisedSrc.src,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=function r(){var n=t.naturalHeight,a=t.naturalWidth;n||a?(e.naturalWidth=a,e.calculatedAspectRatio=a/n):null!=i&&setTimeout(r,i)};r()},genContent:function(){var t=o.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:"".concat(this.naturalWidth,"px")}}),t},__genPlaceholder:function(){if(this.$slots.placeholder){var t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render:function(t){var e=o.options.render.call(this,t);return e.data.staticClass+=" v-image",h&&(e.data.directives=[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]),e.data.attrs={role:this.alt?"img":void 0,"aria-label":this.alt},e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,e.data,e.children)}})},c5a6:function(t,e,i){"use strict";var r=i("8238"),n=i.n(r);n.a},e0c7:function(t,e,i){"use strict";var r=i("5530"),n=(i("0bc6"),i("7560")),a=i("58df");e["a"]=Object(a["a"])(n["a"]).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:Object(r["a"])({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},f43a:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700",outlined:""}},[i("v-card-title",{staticClass:"primary white--text text-uppercase font-weight-bold"},[t._v(t._s(t.label))]),t._l(t.errors,(function(e,r){return i("v-card-text",{key:r,staticClass:"error white--text font-weight-bold"},[t._v(t._s(e))])})),i("v-card-text",{staticClass:"my-3"},[t._t("default")],2)],2)},n=[],a={name:"ihris-questionnaire-group",props:["label","path","constraints"],data:function(){return{isQuestionnaireGroup:!0,errors:[]}}},s=a,o=i("2877"),c=i("6544"),h=i.n(c),u=i("b0af"),l=i("99d9"),d=Object(o["a"])(s,r,n,!1,null,null,null);e["default"]=d.exports;h()(d,{VCard:u["a"],VCardText:l["c"],VCardTitle:l["d"]})},f774:function(t,e,i){"use strict";i("99af"),i("a9e3"),i("c7cd");var r=i("5530"),n=(i("7958"),i("adda")),a=i("3a66"),s=i("a9ad"),o=i("b848"),c=i("e707"),h=i("d10f"),u=i("7560"),l=i("a293"),d=i("dc22"),f=i("c3f0"),p=i("80d2"),v=i("58df"),m=Object(v["a"])(Object(a["a"])("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),s["a"],o["a"],c["a"],h["a"],u["a"]);e["a"]=m.extend({name:"v-navigation-drawer",provide:function(){return{isInNav:"nav"===this.tag}},directives:{ClickOutside:l["a"],Resize:d["a"],Touch:f["a"]},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default:function(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},mobileBreakPoint:{type:[Number,String],default:1264},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default:function(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:function(){return{isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}},computed:{applicationProperty:function(){return this.right?"right":"left"},classes:function(){return Object(r["a"])({"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary},this.themeClasses)},computedMaxHeight:function(){if(!this.hasApp)return null;var t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop:function(){if(!this.hasApp)return 0;var t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform:function(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth:function(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp:function(){return this.app&&!this.isMobile&&!this.temporary},isBottom:function(){return this.bottom&&this.isMobile},isMiniVariant:function(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile:function(){return!this.stateless&&!this.permanent&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakPoint,10)},reactsToClick:function(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize:function(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute:function(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay:function(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles:function(){var t=this.isBottom?"translateY":"translateX",e={height:Object(p["h"])(this.height),top:this.isBottom?"auto":Object(p["h"])(this.computedTop),maxHeight:null!=this.computedMaxHeight?"calc(100% - ".concat(Object(p["h"])(this.computedMaxHeight),")"):void 0,transform:"".concat(t,"(").concat(Object(p["h"])(this.computedTransform,"%"),")"),width:Object(p["h"])(this.computedWidth)};return e}},watch:{$route:"onRouteChange",isActive:function(t){this.$emit("input",t)},isMobile:function(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent:function(t){t&&(this.isActive=!0)},showOverlay:function(t){t?this.genOverlay():this.removeOverlay()},value:function(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover:function(t){this.updateMiniVariant(!t)}},beforeMount:function(){this.init()},methods:{calculateTouchArea:function(){var t=this.$el.parentNode;if(t){var e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}}},closeConditional:function(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend:function(){return this.genPosition("append")},genBackground:function(){var t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(n["a"],{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives:function(){var t=this,e=[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},genListeners:function(){var t=this,e={transitionend:function(e){if(e.target===e.currentTarget){t.$emit("transitionend",e);var i=document.createEvent("UIEvents");i.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(i)}}};return this.miniVariant&&(e.click=function(){return t.$emit("update:mini-variant",!1)}),this.expandOnHover&&(e.mouseenter=function(){return t.isMouseover=!0},e.mouseleave=function(){return t.isMouseover=!1}),e},genPosition:function(t){var e=Object(p["s"])(this,t);return e?this.$createElement("div",{staticClass:"v-navigation-drawer__".concat(t)},e):e},genPrepend:function(){return this.genPosition("prepend")},genContent:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init:function(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange:function(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft:function(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight:function(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication:function(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;var t=Number(this.computedWidth);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant:function(t){this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render:function(t){var e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(p["s"])(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}})},f977:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"my-3"},[i("ihris-practitioner-intro",{attrs:{isQuestionnaire:!0,slotProps:t.source}}),i("v-form",{ref:"form",attrs:{id:"app"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t._t("default"),i("v-overlay",{attrs:{value:t.overlay}},[i("v-progress-circular",{attrs:{color:"primary",indeterminate:"",size:"50"}}),i("v-btn",{attrs:{icon:""},on:{click:function(e){t.overlay=!1}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-navigation-drawer",{staticClass:"primary darken-1 white--text",staticStyle:{"z-index":"3"},attrs:{app:"",clipped:"",permanent:"",right:""}},[i("v-list",{staticClass:"white--text"},[i("v-list-item",[i("v-btn",{staticClass:"secondary",attrs:{dark:""},on:{click:function(e){return t.$router.go(-1)}}},[i("v-icon",{attrs:{light:""}},[t._v("mdi-pencil-off")]),i("span",[t._v("Cancel")])],1),i("v-spacer"),t.valid?i("v-btn",{staticClass:"success darken-1",attrs:{disabled:!t.valid,dark:""},on:{click:function(e){return t.processFHIR()}}},[i("v-icon",{attrs:{light:""}},[t._v("mdi-content-save")]),i("span",[t._v("Save")])],1):i("v-btn",{staticClass:"warning",attrs:{dark:""},on:{click:function(e){return t.$refs.form.validate()}}},[i("v-icon",{attrs:{light:""}},[t._v("mdi-content-save")]),i("span",[t._v("Save")])],1)],1),"/questionnaire/ihris-practitioner/practitioner"===t.$router.history.current.path?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:""},on:{click:function(e){return t.$router.push("/bulk-registration")}}},[i("v-icon",{attrs:{light:""}},[t._v("mdi-attachment")]),i("span",[t._v("Upload CSV/Excel")])],1)],1):t._e(),"/questionnaire/ihris-practitioner/practitioner"===t.$router.history.current.path?i("v-list-item",[i("v-btn",{staticClass:"primary",attrs:{dark:""},on:{click:t.getCsvTemplate}},[i("v-icon",{attrs:{light:""}},[t._v("mdi-download")]),i("span",[t._v("Get CSV Template")])],1)],1):t._e(),i("v-divider",{attrs:{color:"white"}}),t.sectionMenu?i("v-subheader",{staticClass:"white--text"},[i("h2",[t._v("Sections")])]):t._e(),t._l(t.sectionMenu,(function(e){return i("v-list-item",{key:e.id,class:"#section-"+e.id===t.path?"highlighted":"",attrs:{href:"#section-"+e.id}},[i("v-list-item-content",{staticClass:"white--text"},[i("v-list-item-title",{staticClass:"text-uppercase"},[i("h4",[t._v(t._s(e.title))])]),i("v-list-item-subtitle",{staticClass:"white--text"},[t._v(t._s(e.desc))])],1)],1)}))],2)],1)],2)],1)},n=[],a=(i("7db0"),i("a630"),i("a15b"),i("d81d"),i("d3b7"),i("ac1f"),i("6062"),i("3ca3"),i("1276"),i("ddb0"),i("2b3d"),i("b85c")),s=(i("96cf"),i("1da1")),o=i("bc3a"),c=i.n(o),h=i("b383"),u={name:"ihris-questionnaire",props:["id","url","title","description","purpose","section-menu","view-page","edit","constraints"],data:function(){return{fhir:{},loading:!1,overlay:!1,isEdit:!1,valid:!0,advancedValid:!0,position:"",source:{path:"",data:{}},path:""}},watch:{$route:function(){this.path=this.$route.hash}},created:function(){var t=this,e=this.$route.query,i=e.practitioner;i&&(fetch("/fhir/PractitionerRole?_practitioner=".concat(this.fhirId)).then((function(e){e.json().then((function(e){var i=e.entry[0].resource.code[0].coding[0].display;t.position=i||""})).catch((function(e){console.log(t.field,t.fhirId,e)}))})).catch((function(e){console.log(t.field,t.fhirId,e)})),fetch("/fhir/Practitioner/"+i).then((function(e){e.json().then((function(e){t.source={source:{data:e,path:"Practitioner"}}})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)})))},mounted:function(){this.isQuestionnaire?window.removeEventListener("scroll",this.handleScroll):window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(){var t=this;this.hasScrolled=window.top.scrollY>=100,this.sectionMenu.map((function(e){var i=document.getElementById("section-".concat(e.id)),r=i.offsetTop;pageYOffset>=r&&(t.path="#section-".concat(e.id))}))},getCsvTemplate:function(){c()({url:"/fhir/csvTemplate",method:"GET",responseType:"blob"}).then((function(t){var e=new Blob([t.data],{type:"application/vnd.ms-excel"}),i=document.createElement("a");i.href=window.URL.createObjectURL(e),i.download="User_bulk_registration_template.xlsx",i.click()}))},processFHIR:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$refs.form.validate(),this.valid){t.next=3;break}return t.abrupt("return");case 3:return this.advancedValid=!0,this.overlay=!0,this.loading=!0,e=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r,n,s){var o,c,h,u,l,d,f,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s||(s={}),o=Object(a["a"])(n),t.prev=2,o.s();case 4:if((c=o.n()).done){t.next=67;break}if(h=c.value,u=r,l={},!h.isArray){t.next=11;break}t.next=39;break;case 11:if(!h.isQuestionnaireGroup){t.next=17;break}d={linkId:h.path,text:h.label,item:[]},u.push(d),u=d.item,t.next=39;break;case 17:if(!h.qField){t.next=39;break}if(f=void 0,s.hasOwnProperty(h.path)?f=s[h.path]:(f={linkId:h.path,answer:[]},s[h.path]=f,u.push(f)),p={},p[h.qField]=h.value,f.answer.push(p),!h.constraints){t.next=39;break}if(h.errors=[],t.prev=25,t.t0=i.advancedValid,!t.t0){t.next=31;break}return t.next=30,i.$fhirutils.checkConstraints(h.constraints,i.constraints,h.value,h.errors);case 30:t.t0=t.sent;case 31:i.advancedValid=t.t0,t.next=39;break;case 34:t.prev=34,t.t1=t["catch"](25),i.advancedValid=!1,h.errors.push("An unknown error occurred."),console.log(t.t1);case 39:if(!h.$children){t.next=49;break}return t.prev=40,t.next=43,e(u,h.$children,l);case 43:t.next=49;break;case 45:t.prev=45,t.t2=t["catch"](40),i.advancedValid=!1,console.log(t.t2);case 49:if(!h.isQuestionnaireGroup||!h.constraints){t.next=65;break}if(h.errors=[],t.prev=51,t.t3=i.advancedValid,!t.t3){t.next=57;break}return t.next=56,i.$fhirutils.checkConstraints(h.constraints,i.constraints,u,h.errors);case 56:t.t3=t.sent;case 57:i.advancedValid=t.t3,t.next=65;break;case 60:t.prev=60,t.t4=t["catch"](51),i.advancedValid=!1,h.errors.push("An unknown error occurred."),console.log(t.t4);case 65:t.next=4;break;case 67:t.next=72;break;case 69:t.prev=69,t.t5=t["catch"](2),o.e(t.t5);case 72:return t.prev=72,o.f(),t.finish(72);case 75:case"end":return t.stop()}}),t,null,[[2,69,72,75],[25,34],[40,45],[51,60]])})));return function(e,i,r){return t.apply(this,arguments)}}(),this.fhir={resourceType:"QuestionnaireResponse",questionnaire:this.url,status:"completed",item:[]},t.prev=8,t.next=11,e(this.fhir.item,this.$children);case 11:t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](8),this.advancedValid=!1,console.log(t.t0);case 17:if(this.advancedValid){t.next=22;break}return this.overlay=!1,this.loading=!1,this.$store.commit("setMessage",{type:"error",text:"There were errors on the form."}),t.abrupt("return");case 22:this.fhir.item.find((function(t){return"Practitioner:communication"===t.linkId}))&&this.fhir.item.find((function(t){return"Practitioner:communication"===t.linkId})).item.map((function(t,e){t.linkId="Practitioner:communication[".concat(e,"]"),t.item[0].linkId="Practitioner.communication[".concat(e,"]")})),console.log("SAVE",this.fhir),fetch("/fhir/QuestionnaireResponse?"+h.stringify(this.$route.query),{method:"POST",headers:{"Content-Type":"application/fhir+json"},redirect:"manual",body:JSON.stringify(this.fhir)}).then((function(t){201===t.status?(t.json().then((function(t){var e;if(i.overlay=!1,i.loading=!1,i.viewPage){if(t.meta.tag){var r=t.meta.tag.find((function(t){return"http://ihris.org/fhir/tags/resource"===t.system}));r&&r.code&&(e=r.code)}if(!e&&t.subject&&t.subject.reference&&(e=t.subject.reference),e){var n=e.split("/");n=n[1]?n[1]:e,i.$router.push({name:"resource_view",params:{page:i.viewPage,id:n}})}}e||i.$router.push({name:"home"})})),i.$store.commit("setMessage",{type:"success",text:"Added successfully."})):(i.overlay=!1,i.loading=!1,t.json().then((function(t){var e;if("OperationOutcome"==t.resourceType)try{e=Array.from(new Set(t.issue.map((function(t){return t.diagnostics})))).join(", ")}catch(r){console.log("Unable to retrieve errors from ",t)}else e="Unknown";i.$store.commit("setMessage",{type:"error",text:"An error occurred trying to save this record: "+e})})).catch((function(t){i.$store.commit("setMessage",{type:"error",text:"An unknown error occurred trying to save this record."}),console.log("Error on retrieving error status",t)})))})).catch((function(t){console.log(t),i.overlay=!1,i.loading=!1,i.$store.commit("setMessage",{type:"error",text:"Failed to update data."})}));case 25:case"end":return t.stop()}}),t,this,[[8,13]])})));function e(){return t.apply(this,arguments)}return e}()}},l=u,d=(i("c5a6"),i("2877")),f=i("6544"),p=i.n(f),v=i("8336"),m=i("a523"),g=i("ce7e"),y=i("4bd4"),b=i("132d"),w=i("8860"),x=i("da13"),_=i("5d23"),S=i("f774"),k=i("a797"),$=i("490a"),C=i("2fa4"),O=i("e0c7"),V=Object(d["a"])(l,r,n,!1,null,null,null);e["default"]=V.exports;p()(V,{VBtn:v["a"],VContainer:m["a"],VDivider:g["a"],VForm:y["a"],VIcon:b["a"],VList:w["a"],VListItem:x["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VNavigationDrawer:S["a"],VOverlay:k["a"],VProgressCircular:$["a"],VSpacer:C["a"],VSubheader:O["a"]})}}]);
//# sourceMappingURL=fhir-questionnaire.0ec9ddb1.js.map