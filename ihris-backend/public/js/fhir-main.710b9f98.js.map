{"version":3,"sources":["webpack:///./src/components/fhir/fhir-choice.vue?237f","webpack:///src/components/fhir/fhir-choice.vue","webpack:///./src/components/fhir/fhir-choice.vue?90ce","webpack:///./src/components/fhir/fhir-choice.vue","webpack:///../../../src/components/VTextarea/VTextarea.ts","webpack:///../../../src/components/VBtn/index.ts","webpack:///./src/components/fhir/fhir-text.vue?bc3c","webpack:///src/components/fhir/fhir-text.vue","webpack:///./src/components/fhir/fhir-text.vue?412e","webpack:///./src/components/fhir/fhir-text.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","loading","label","items","err_messages","error","rules","scopedSlots","_u","key","fn","_v","_s","staticClass","_e","proxy","model","value","callback","$$v","valueCode","expression","staticRenderFns","name","props","data","qField","created","setupData","watch","find","methods","$fhirutils","expand","console","log","err","computed","required","min","component","VContainer","VSelect","baseMixins","autoGrow","noResize","rowHeight","type","Number","default","validator","v","isNaN","parseFloat","rows","parseInt","classes","noResizeHandle","lazyValue","$nextTick","mounted","setTimeout","calculateInputHeight","input","$refs","height","minHeight","Math","genInput","onInput","onKeyDown","isFocused","e","edit","disabled","display","components","IhrisElement","source","slotProps","handler","deep","$fhirpath","evaluate","readOnlyIfSet","index","VTextarea"],"mappings":"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","file":"js/fhir-main.710b9f98.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-select',{attrs:{\"loading\":_vm.loading,\"label\":_vm.label,\"items\":_vm.items,\"outlined\":\"\",\"hide-details\":\"auto\",\"error-messages\":_vm.err_messages,\"error\":_vm.error,\"item-text\":\"display\",\"item-value\":\"code\",\"rules\":_vm.rules,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.label)+\" \"),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}]),model:{value:(_vm.valueCode),callback:function ($$v) {_vm.valueCode=$$v},expression:\"valueCode\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-select \n      :loading=\"loading\" \n      :label=\"label\" \n      v-model=\"valueCode\" \n      :items=\"items\" \n      outlined \n      hide-details=\"auto\" \n      :error-messages=\"err_messages\"\n      :error=\"error\"\n      item-text=\"display\"\n      item-value=\"code\"\n      :rules=\"rules\"\n      dense\n      >\n      <template #label>{{label}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n    </v-select>\n  </v-container>\n</template>\n\n<script>\n/*\nconst itemSort = (a,b) => {\n  return (a.display === b.display ? (a.code === b.code ? 0 : (a.code < b.code ? -1: 1)) : (a.display < b.display ? -1 : 1) )\n}\n*/\nexport default {\n  name: \"fhir-coding\",\n  props: [\"label\", \"path\", \"binding\", \"edit\", \"min\", \"max\"],\n  data: function() {\n    return {\n      value: { system: \"\", code: \"\", display: \"\" },\n      valueCode: \"\",\n      loading: true,\n      err_messages: null,\n      error: false,\n      items: [],\n      qField: \"valueCoding\"\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    valueCode: function() {\n      if ( this.items ) {\n        this.value = this.items.find( item => item.code === this.valueCode )\n      }\n    }\n  },\n  methods: {\n    setupData: function() {\n      let binding = this.binding \n      //console.log(\"CODING\",binding)\n      this.$fhirutils.expand( binding ).then( items => {\n        this.items = items \n        this.loading = false\n      } ).catch( err => {\n        console.log(err)\n        this.error = true\n        this.err_messages = err.message\n        this.loading = false\n      } )\n    }\n  },\n  computed: {\n    required: function() {\n      return this.min > 0 \n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.label+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-choice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-choice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-choice.vue?vue&type=template&id=542d0b00&\"\nimport script from \"./fhir-choice.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-choice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VContainer,VSelect})\n","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n","import VBtn from './VBtn'\n\nexport { VBtn }\nexport default VBtn\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ihris-element',{attrs:{\"edit\":_vm.edit,\"loading\":false},scopedSlots:_vm._u([{key:\"form\",fn:function(){return [_c('v-textarea',{attrs:{\"disabled\":_vm.disabled,\"label\":_vm.display,\"outlined\":\"\",\"hide-details\":\"auto\",\"rules\":_vm.rules,\"dense\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(_vm._s(_vm.display)+\" \"),(_vm.required)?_c('span',{staticClass:\"red--text font-weight-bold\"},[_vm._v(\"*\")]):_vm._e()]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})]},proxy:true},{key:\"header\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.display)+\" \")]},proxy:true},{key:\"value\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.value)+\" \")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ihris-element :edit=\"edit\" :loading=\"false\">\n    <template #form>\n      <v-textarea :disabled=\"disabled\" :label=\"display\" v-model=\"value\" outlined hide-details=\"auto\" :rules=\"rules\" dense>\n        <template #label>{{display}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n      </v-textarea>\n    </template>\n    <template #header>\n      {{display}}\n    </template>\n    <template #value>\n      {{value}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\n\nexport default {\n  name: \"fhir-text\",\n  props: [ \"field\", \"label\", \"min\", \"max\", \"path\", \"edit\", \"sliceName\", \"slotProps\", \"base-min\", \"base-max\", \"readOnlyIfSet\" ],\n  components: {\n    IhrisElement\n  },\n  data: function() {\n    return {\n      source: { path: \"\", data: {} },\n      value: \"\",\n      qField: \"valueText\",\n      disabled: false\n    }\n  },\n  created: function() {\n    //console.log(\"CREATE STRING\",this.field,this.slotProps)\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH STRING\",this.field,this.path,this.slotProps)\n        this.setupData()\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          this.value = this.source.data\n          //console.log(\"SET value to \", this.source.data, this.slotProps.input)\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"STR FHIRPATH\", this.slotProps.source.data, this.field)\n          if ( this.source.data.length == 1 ) {\n            this.value = this.source.data[0]\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.value)\n        //console.log(this.source)\n      }\n    }\n  },\n  computed: {\n    index: function() {\n      if ( this.slotProps ) return this.slotProps.input.index\n      else return undefined\n    },\n    display: function() {\n      if ( this.slotProps && this.slotProps.input) return this.slotProps.input.label\n      else return this.label\n    },\n    required: function() {\n      return (this.index || 0) < this.min \n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.display+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-text.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fhir-text.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fhir-text.vue?vue&type=template&id=b78b4bc2&\"\nimport script from \"./fhir-text.vue?vue&type=script&lang=js&\"\nexport * from \"./fhir-text.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VTextarea})\n"],"sourceRoot":""}